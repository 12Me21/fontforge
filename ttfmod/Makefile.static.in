CC = @CC@

X_CFLAGS = @X_CFLAGS@
X_LIBS = @X_LIBS@
X_EXTRA_LIBS = @X_EXTRA_LIBS@
X_PRE_LIBS = @X_PRE_LIBS@

TABLEOBJS = maxp.o OS2.o instrs.o binary.o shorts.o metrics.o _hea.o head.o \
	post.o gasp.o
GLYPHOBJS = fontview.o conicutil.o charview.o freetype.o bcdebug.o
ttfmod_OBJECTS = ttfmod-ui.o start.o splashimage.o uiutil.o ttfview.o ttffile.o \
	openfontdlg.o prefs.o cursors.o windowmenu.o psunicodenames.o \
	ttfsave.o $(TABLEOBJS) $(GLYPHOBJS)

WFLAGS = -Wmissing-prototypes -Wunused -Wimplicit -Wreturn-type -Wparentheses
CFLAGS = @CFLAGS@ -I../inc $(WFLAGS) $(X_CFLAGS) @DEFS@

LDFLAGS = @LDFLAGS@
LIBS = -L../libs $(X_LIBS) ../libs/libgdraw.a ../libs/libgunicode.a \
    $(X_PRE_LIBS) -lX11 $(X_EXTRA_LIBS) @LIBS@ -L/usr/lib -lm

ttfmod: $(ttfmod_OBJECTS)
	$(CC) -o ttfmod $(ttfmod_OBJECTS) stamp.c $(LIBS)

clean:
	-rm -f *.o ttfmod

cleaner:
	-rm -f *.o ttfmod Makefile
