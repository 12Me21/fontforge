prefix = @prefix@
exec_prefix = @exec_prefix@

bindir = @bindir@
libdir = @libdir@
mandir = @mandir@
includedir = @includedir@
sharedir = $(prefix)/share/pfaedit

top_builddir = .

INSTALL = @INSTALL@

pfaedit: libgunicode libgdraw
	( cd pfaedit ; $(MAKE) )

libgunicode:
	( cd Unicode ; $(MAKE) )

libgdraw:
	( cd gdraw ; $(MAKE) )

clean:
	( cd pfaedit ; $(MAKE) clean )
	( cd Unicode ; $(MAKE) clean )
	( cd gdraw ; $(MAKE) clean )

distclean cleaner:
	( cd pfaedit ; $(MAKE) distclean )
	( cd Unicode ; $(MAKE) distclean )
	( cd gdraw ; $(MAKE) distclean )
	rm Makefile config.cache config.log config.status libtool

install: $(sharedir)
# You may need to be root to do the install
# remove any files from old installs that put the ui in bin
	-rm -f $(bindir)/pfaedit*.ui
	cp pfaedit/pfaedit $(bindir)
	cp pfaedit/pfaedit.*.ui $(sharedir)
	cp pfaedit/pfaedit.1 $(mandir)/man1
#	cp *.cidmap $(sharedir)

uninstall:
	-rm $(bindir)/pfaedit
	-rm $(sharedir)/pfaedit.*.ui
	-rm $(mandir)/man1/pfaedit.1
#	-rm $(sharedir)/*.cidmap

$(sharedir):
	mkdir $(sharedir)
