<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 7-Sep-2002 -->
  <!-- AP: Last modified: 2-Jan-2004 -->
  <TITLE>Generate Font Dialog</TITLE>
</HEAD>
<BODY>
<H1 ALIGN=Center>
  Generate Font Dialog
</H1>
<P>
<IMG SRC="generate.png" WIDTH="414" HEIGHT="419" ALIGN="Right">This generates
font files, both outline and bitmap. You may choose not to generate either,
you may generate an afm file or a pfm file, you may select the type of postscript
output, you may select which pixelsizes of bitmap to generate.
<P>
The outline types are:
<UL>
  <LI>
    PostScript Type1 font, binary format (a .pfb file, this may be used by adobe
    type manager or by the new x font server)
  <LI>
    PostScript Type1 font, ascii format (a .pfa file, this is used by printers)
  <LI>
    PostScript Type1 font, macbinary format (a postscript font wrapped up in
    a set of mac resources wrapped up in a macbinary file, to be copied to a
    mac, unmacbinaried, and installed there)<BR>
    If you are on a mac then a resource fork will be generated directly, macbinary
    will not be used.
    <P>
    <FONT COLOR="Red"><STRONG><BIG>NOTE:</BIG></STRONG></FONT> The mac will not
    recognize a PostScript font unless you also generate a bitmap font in NFNT
    format and place it in the same directory. If you haven't created any bitmap
    fonts yet, cancel this dlg and use
    <A HREF="elementmenu.html#Bitmaps">Element-&gt;Bitmaps Available</A> to generate
    a bitmap font, and then retry this dlg.
  <LI>
    Multiple PostScript Type 1 binary fonts (this is used to convert a large
    font with a two byte encoding into a series of smaller pfb files with 256
    characters in each. You may be prompted for a file to specify the conversion.
    See the ttf2tfm man page for a description of these SUBFONT DEFINITION FILES.
    <A HREF="Big5.txt">Here is an example of what the file should look like</A>)
  <LI>
    PostScript Type3 font (a .ps font, this is also used by printers and is not
    encrypted)
  <LI>
    PostScript Type0 font, this is only available if you have a font encoded
    with Unicode or one of the CJK encodings. Type0 fonts can have up to 65536
    characters in them (as opposed to 256 for Type1s and Type3s).
  <LI>
    PostScript CID font, this is only available if your font is a
    <A HREF="cidmenu.html">CID font</A>. This produces a font in the old Type1
    CID format. You probably want to use the OpenType CID format...
  <LI>
    PostScript CFF font, this is the format that lives inside the 'CFF ' table
    of an opentype font. It is a valid font format in its own right.
  <LI>
    True Type. The instructions (hinting) are probably not very good. No diagonal
    stems are hinted. Instructing is based on the hints used for postscript,
    with some additional work done for serifs, and some recognition that all
    characters of approximately the same height should have the same height at
    small pointsizes (equivalent to PostScript's BlueValues).
  <LI>
    True Type Symbol. Same as True Type, except it uses the 1 byte encoding given
    in the font. This is important on windows as symbol and dingbat encodings
    often include characters (in the range 0x80-0x9f) which aren't mapped in
    normal encodings. It is important on the Mac because I do not generate the
    correct encoding tables for any script other than MacRoman, so if you want
    a MacCyrillic font use this mode.
  <LI>
    True Type macbinary format, a truetype font wrapped up in a mac resource,
    wrapped up in a macbinary file. Designed to be used for a mac.<BR>
    If you are on a mac, then a file with a resource fork will be generated directly
    (macbinary will not be used).
  <LI>
    True Type dfont format, a truetype font wrapped up in a mac dfont (data fork
    resource file). Mac OS/X font.
  <LI>
    Open Type. Officially Open Type includes True Type, but Open Type True Type
    fonts are no different from plain True Type fonts, so they might as well
    just be called True Type. So by Open Type I mean Open Type with a CFF Postscript
    Type 2 font inside it.
  <LI>
    Open Type dfont format, an open type font wrapped up in a mac dfont (data
    fork resource file). Mac OS/X font.
  <LI>
    Open Type CID, This is only available if your font is a
    <A HREF="cidmenu.html">CID font</A>. It procudes an OpenType CID-keyed font.
  <LI>
    SVG font
  <LI>
    None
</UL>
<P>
The bitmap types are:
<UL>
  <LI>
    BDF -- The internal bitmap fonts will be saved in bdf format. You may only
    select sizes for which you have already generated fonts (you may output
    anti-aliased (greymap) fonts as well as bitmaps. A 12pixel high greymap font
    with 8 bits/pixel can be represented as 12@8).
  <LI>
    In TTF -- Store the bitmap fonts inside the ttf file (the exact format will
    depend on the settings of the Apple and OpenType bits in the Options dlg).
  <LI>
    In sfnt (dfont) -- Only available if no outline font is generated. Apple
    allows bitmaps to be stored within a truetype file (sfnt) even if there is
    no outline font. So this generates a ttf file that just contains bitmaps
    and wraps it up in a dfont.
  <LI>
    NFNT (MacBin) -- Converts the bitmap fonts into Macintosh NFNT resources
    and wraps them up in a mac binary file.<BR>
    NFNT (Resource) -- On a mac the NFNT font will be generated in a resource
    fork directly.
    <P>
    <FONT COLOR="Red"><STRONG><BIG>NOTE:</BIG></STRONG></FONT> Mac OS/X appears
    not to support NFNT bitmaps (at least I can't get them to work).
    <FONT COLOR="Red"><STRONG>However</STRONG></FONT>, the mac still needs at
    least one NFNT in order to find an type1 font. Even though the bitmap is
    required, it will not be used. Odd.
  <LI>
    Windows FNT -- this needs to be processed somehow with the windows resource
    compiler to create a FON file. I don't have enough info to do this myself
    yet.
  <LI>
    OpenType Bitmap -- this is the new X11 bitmap format with bitmaps embedded
    in an sfnt wrapper (an opentype or truetype font) but with no outline data.
  <LI>
    None
</UL>
<P>
<IMG SRC="GenerateOptions.png" WIDTH="323" HEIGHT="269" ALIGN="Right">The
<A NAME="Options">options</A> dialog provides the following check boxes.
Not all are enabled at all times.
<UL>
  <LI>
    [] Hints -- Include PostScript hints in the output file
  <LI>
    [] Flex Hints -- Include PostScript flex hints in the output file
  <LI>
    [] AFM -- Generate an adobe font metrics file<BR>
    Note: Only 'liga' and 'rlig' ligatures will be output in the AFM file. If
    this is not what you want, use the
    <A HREF="scripting.html#ControlAfmLigatureOutput">ControlAfmLigatureOutput</A>
    scripting command.
  <LI>
    [] PFM -- Generate a windows printer font metrics file
  <LI>
    [] TFM -- Generate a TeX font metrics file (and a TeX enc encoding file)
      <HR>
  <LI>
    [] Hints -- Include truetype hints in a truetype font. NOTE: This used to
    generate bad truetype instructions, now it merely inserts whatever truetype
    instructions are stored with the glyph. If these have been read from another
    truetype font they will probably be reasonable. If they have been generated
    with PfaEdit's AutoInstr menu command they will probably make your font uglier.
    <UL>
      <LI>
	R C van Dalen's <A HREF="http://home.kabelfoon.nl/~slam/fonts/">truetype
	hinting utilities may be helpful here.</A>
    </UL>
  <LI>
    [] PSNames -- Include the full 'post' (postscript name) table in the font
  <LI>
    [] <A NAME="AppleMode">Apple</A> -- Apple and MS/Adobe disagree on the format
    of a ttf font. This is annoying. Checking this box means the font will be
    generated according to Apple's desires, leaving it unchecked means according
    to MS/Adobe's desires. Currently this controls:
    <UL>
      <LI>
	The bitmap tables (Apple calls it 'bdat', MS/Adobe 'EBDT'. The data in them
	are the same)
      <LI>
	The PostScript name in the 'name' table (Apple says there must be either
	0 or 1 of them, MS/Adobe say any value other than 1)
      <LI>
	Apple and MS/Adobe also differ on the way references (components) are scaled.
	Luckily there is another way to disambiguate this case (and references are
	rarely scaled anyway).
      <LI>
	The GDEF, GPOS, GSUB and prop, lcar, kern, opbd, morx, feat tables. Apple
	does not support GPOS/GSUB tables. MicroSoft still supports kern tables for
	some fonts but requires GPOS for others.
    </UL>
  <LI>
    [] OpenType -- If this is checked the font will be generated with the tables
    used by OpenType. If both this and [] Apple are checked the font will have
    two sets of tables, Apple will look at one set, and everyone else will look
    at the other.
  <LI>
    [] Save Comments -- I have added my own table
    ('<A HREF="non-standard.html#PfEd">PfEd</A>') in the truetype format in which
    I can store whatever data I want. Checking this box saves all the glyph comments
    into the output file.
  <LI>
    [] Save Colors -- Save the glyph colors in the
    '<A HREF="non-standard.html#PfEd">PfEd</A>' table as well.
</UL>
<P>
TTF (and Open Type) fonts are usually generated in Unicode encoding, there
will also be a tiny macintosh encoding of whatever bits of MacRoman fit in
the first 256 glyphs (and a macintosh copy of the unicode encoding) -- the
exceptions are: symbol fonts will use the symbol encoding, KSC5601 and Wansung
fonts will use Wansung, Johab fonts will use johab, JIS208 and SJIS fonts
will use SJIS, Big5 will use big5 encoding. Fonts with a "Full Unicode" encoding
will have both a 2 byte unicode encoding table and a 4 byte table. OpenType
CID keyed fonts will be saved with Unicode encoding.
<P>
Postscript fonts are generated in whatever encoding the font is using (except
if you take a two byte encoding and generate a Type1 font (rather than a
Type0) then only the first few characters will be encoded). Type0 does not
support a full Unicode (4 byte) encoding.
<P>
PS CID (and OpenType CID in the CFF) are saved with no encoding. The encodings
live in seperate cmap files which are available from
<A HREF="http://www.adobe.com/products/acrobat/acrrasianfontpack.html">adobe</A>
(and perhaps other font vendors).
<P>
If you save a CID font with a format other than PS CID or OpenType CID, then
only the currenly displayed subfont will be saved, with the current meaningless
character ordering (I suppose this is useful if you wish to extract a sub-font
from a CID font).
<P>
SVG fonts don't really have the concept of an encoding other than Unicode.
<P>
TTF (and OpenType) fonts will produce vertical metrics tables if the font
has vertical metrics enabled. Postscript encodings will not produce Metrics2
dictionaries (If someone actually wants this let me know, it can be done,
but I get the impression that nobody uses this any more).
<P>
On Mac OS/X, when generating a resource font containing a postscript font
then the fontname textfield will not be present (as the filename is determined
by the fontname). You can still select a directory however.
<P>
The bitmap sizes must all be present in the font database. AntiAliased fonts
can be indicated by following the pixelsize by "@&lt;depth&gt;" (ie. "@8").
<P>
If you are generating a bdf font then you will be prompted for a resolution
later.
<P>
If you generate a TrueType or OpenType font without the Apple mode set then
PfaEdit will generate <A HREF="gposgsub.html">GPOS, GSUB, and GDEF tables</A>.
These contain kerning, ligature information, arabic forms data, anchor points,
etc.
<P>
Apple does not support these OpenType layout tables. If you set Apple mode
<A HREF="gposgsub.html#AAT">'kern', 'opbd', 'morx', 'feat', 'lcar' and 'prop'
</A>tables may be generated instead. (and a couple of other small differences
will appear).
<P>
If you set both Apple and OpenType then both sets of tables will be generated.
If you set neither, then only the 'kern' table will be generated, and it
will only contain pair-wise kerning (no kerning classes, no kerning by state
machine). This is the kind of kerning available in the original truetype
spec (from which both Apple and OpenType have diverged, but which both still
support). 
  <HR>
<H2>
  Generate <A NAME="Mac-Family">Mac</A> Family
</H2>
<P>
<IMG SRC="GenerateFamily.png" WIDTH="414" HEIGHT="509" ALIGN="Right">This
brings up a dialog very similar to the above, but with a few added fields.
Because this dialog is for Mac families, only Mac formats are supported.
<P>
Right above the [Save] button is a list of all fonts that PfaEdit thinks
should be included in this family, along with their bitmap info. If you don't
want a font to be in the family simply uncheck its checkbox.
<P>
<BR Clear=All>
<P ALIGN=Center>
-- <A HREF="filemenu.html">Prev</A> -- <A HREF="overview.html">TOC</A> --
<A HREF="filemenu.html">Next</A> --
</BODY></HTML>
