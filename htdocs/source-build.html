<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 26-Oct-2005 -->
  <!-- AP: Last modified: 2-Dec-2005 -->
  <TITLE>Building FontForge from source</TITLE>
  <LINK REL="icon" href="ffanvil16.png">
  <LINK REL="stylesheet" TYPE="text/css" HREF="FontForge.css">
</HEAD>
<BODY>
<DIV id="in">
  <H1 ALIGN=Center>
    FontForge build procedures
  </H1>
  <UL>
    <LI>
      <A HREF="nix-install.html#Installing">Installing from a pre-built unix
      package</A>
    <LI>
      <A HREF="mac-install.html#Installing">Installing on a Mac</A>
    <LI>
      <A HREF="ms-install.html#Installing">Installing on MS/Windows</A>
    <LI>
      <A HREF="#src-mac">Before you build (on a mac)</A>
    <LI>
      <A HREF="#src-MS">Before you build (on MS/Windows)</A>
    <LI>
      <A HREF="#src-source">Building and installing from source</A>
      <UL>
	<LI>
	  <A HREF="#src-distribution">Obtaining a source distribution</A>
	  <UL>
	    <LI>
	      <A HREF="#src-tarball">tarball</A>
	    <LI>
	      <A HREF="#src-cvs">from the cvs tree</A>
	  </UL>
	<LI>
	  <A HREF="#src-Building">Building &amp; installing it</A>
	<LI>
	  <A HREF="#src-installs">More complicated installs</A>
	<LI>
	  <A HREF="plugins.html">Building Plugins</A>
      </UL>
    <LI>
      <A HREF="#Dependencies">Dependencies (external libraries/helper programs)</A>
    <LI>
      <A HREF="#suggested-fonts">Suggested fonts</A>
    <LI>
      <A HREF="#Documentation">Installing documentation</A>
      <UL>
	<LI>
	  <A HREF="#doc-tar">Installing a documentation tarball</A>
      </UL>
    <LI>
      <A HREF="running.html">Running FontForge</A>
  </UL>
  <H2>
    Before you build (on a <A NAME="src-mac">mac</A>)
  </H2>
  <P>
  You must insure that you have the both the X11 server and the Xcode toolchain
  installed on your system. This process is slightly different on OS/X 10.3
  &amp; 10.4
  <DL>
    <DT>
      10.4
    <DD>
      <UL>
	<LI>
	  I believe the X server is now part of the default install. It lives in the
	  Utilities sub-folder of the Applications directory.
	<LI>
	  The Xcode toolchain is optional software on the install DVD. Simply insert
	  the disk and click on the XCode install icon.
      </UL>
    <DT>
      10.3
    <DD>
      <UL>
	<LI>
	  The X server lives in a package called X11User on the third install CD.
	<LI>
	  You must also install the X11SDK package on the XCode CD
	<LI>
	  And you must install the XCode tools themselves.
      </UL>
  </DL>
  <P>
  You may also want to install the
  <A HREF="http://fink.sourceforge.net/">fink</A> package which includes many
  useful libraries (see the <A HREF="#Dependencies">dependencies</A> section
  below for more info on this)
  <P>
  You must then start up a Terminal window (the Terminal Application also lives
  in the Utilities sub-folder of the Applications folder) and be prepared to
  type commands in that window (I know, it's very un-mac-like).
  <H2>
    Before you build (on <A NAME="src-MS">MS/Windows)</A>
  </H2>
  <P>
  You must download the <A HREF="http://www.cygwin.com/">cygwin</A> environment.
  You will need
  <UL>
    <LI>
      the basic cygwin packages
    <LI>
      the X11 package
    <LI>
      the xterm package
    <LI>
      the package containing gcc, make (probably called c compiler development
      or something)
    <LI>
      You may want to download some additional optional packages to provide support
      for various image formats (See the <A HREF="#Dependencies">Dependencies</A>
      section below).
  </UL>
  <P>
  <FONT COLOR="Red"><STRONG>Caveat: </STRONG></FONT>cygwin has a different
  approach to the file system than Windows. A filename like
  <CODE>C:\windows\fonts\arial.ttf </CODE>will be called
  <CODE>/cygdrive/c/windows/fonts/arial.ttf </CODE>under cygwin (backslashes
  are replaced by slashes, and the initial drive "<CODE>C:</CODE>" becomes
  "<CODE>/cygdrive/c</CODE>"
  <P>
  Having done that you should now be ready to build. Open a cygwin terminal
  window and be prepared to type commands in it.
  <H2>
    Building and installing from <A NAME="src-source">source</A>
  </H2>
  <H3>
    Obtaining a source <A NAME="src-distribution">distribution</A>
  </H3>
  <P>
  There are two basic ways to obtain a source distribution. One is by downloading
  an entire source tree from the web, and the other is by using the cvs utility
  to maintain a source tree on your machine which will be as up to date as
  possible. The former solution provides more stability, the latter provides
  access to cutting edge bugs.
  <H4>
    <A NAME="src-tarball">tarball</A>
  </H4>
  <P>
  <A HREF="http://sourceforge.net/project/showfiles.php?group_id=103338&amp;package_id=114328">Sourceforge's
  file release system </A>will contain a tarball (a file with the extension
  for .tar.bz2).<BR>
  Here is a direct link to a
  <A HREF="fontforge_full-20051202.tar.bz2">tarball</A>, often more recent
  (Version 2-Dec-2005)
  <P>
  After you have downloaded one of these packages, either copy the tarball
  to where you are, or move to the directory containing the tarball (I can't
  provide explicit instructions here, because I don't know where your browser
  put the file) and type (do not type "$"):
  <BLOCKQUOTE>
    <PRE>$ bunzip2 fontforge*.tar.bz2
$ tar xf fontforge*.tar
$ cd fontforge-*
</PRE>
  </BLOCKQUOTE>
  <H4>
    from the <A NAME="src-cvs">cvs</A> tree
  </H4>
  <P>
  cvs is a nifty set of utilities which allows concurrent access to a source
  tree by many users. To set up your own (local) copy of the cvs tree (including
  documentation), create a new directory, cd into it and type the following
  (do not type "$", when it asks for a password, just hit return):
  <BLOCKQUOTE>
    <PRE>$ cvs -d:pserver:anonymous@cvs1.sourceforge.net:/cvsroot/fontforge login
CVS password:
$ cvs -d:pserver:anonymous@cvs1.sourceforge.net:/cvsroot/fontforge checkout fontforge
$ cd fontforge
</PRE>
  </BLOCKQUOTE>
  <P>
  Once you have established a directory you may update it to obtain the most
  recent version of the source by typing:
  <BLOCKQUOTE>
    <PRE>$ cd fontforge
$ cvs -d:pserver:anonymous@cvs1.sourceforge.net:/cvsroot/fontforge login
CVS password:
$ cvs -d:pserver:anonymous@cvs1.sourceforge.net:/cvsroot/fontforge update
</PRE>
  </BLOCKQUOTE>
  <P>
  You can also
  <A HREF="http://cvs.sourceforge.net/viewcvs.py/fontforge/fontforge/">browse
  the CVS tree</A> online. Or see
  <A HREF="http://sourceforge.net/cvs/?group_id=103338">sourceforge's description
  </A>for more information (their information is out of date, the correct server
  is cvs1.sf.net not cvs.sf.net), or read the
  <A HREF="http://www.cvshome.org/docs/manual/">CVS manual</A>.
  <H3>
    <A NAME="src-Building">Building</A> &amp; installing it
  </H3>
  <P>
  Now you have the source installed on your system and you should be positioned
  at the top directory of that tree. You need to configure your package (this
  is a little program that figures out how to use your system), and then build
  it (do not type the "$"):
  <BLOCKQUOTE>
    <PRE>$ ./configure
$ make
</PRE>
  </BLOCKQUOTE>
  <P>
  <A NAME="su">Having</A> done this you will probably want to install what
  you have built. This should be done as root:
  <BLOCKQUOTE>
    <PRE>$ su
password: ******
# make install
</PRE>
  </BLOCKQUOTE>
  <P>
  On the mac the process is slightly different:
  <BLOCKQUOTE>
    <PRE>$ sudo make install
password: ******
</PRE>
  </BLOCKQUOTE>
  <H3>
    More complicated <A NAME="src-installs">installs</A>
  </H3>
  <P>
  The configure script allows you to turn off and on various features of fontforge
  that might not be appropriate for your system. Type
  <BLOCKQUOTE>
    <PRE>$ configure --help
</PRE>
  </BLOCKQUOTE>
  <P>
  for a complete list of options. Some of the most useful are described below.
  <H4>
    Building fontforge without X
  </H4>
  <P>
  If you don't want to install X11 on your system, you can use fontforge as
  a command line tool which can execute scripts to manipulate fonts. FontForge's
  scripting language is described in detail <A HREF="scripting.html">in the
  section on scripting.</A>
  <BLOCKQUOTE>
    <PRE>$ configure --without-x
</PRE>
  </BLOCKQUOTE>
  <H4>
    Building fontforge to edit type3 fonts
  </H4>
  <P>
  If you do want to edit PostScript type3 fonts, you can configure fontforge
  to give you access to more drawing modes than are generally available in
  fonts.
  <BLOCKQUOTE>
    <PRE>$ configure --with-multilayer
</PRE>
  </BLOCKQUOTE>
  <H4>
    Building fontforge to edit device tables
  </H4>
  <P>
  If you do want to create device tables (which allow you to fix up kerning
  data at a specific pixel size) in OpenType fonts
  <BLOCKQUOTE>
    <PRE>$ configure --with-devicetables
</PRE>
  </BLOCKQUOTE>
  <H4>
    Installing FontForge somewhere other than <CODE>/usr/local</CODE>
  </H4>
  <P>
  If you want to install fontforge in a different directory (say in /usr/bin)
  <BLOCKQUOTE>
    <PRE>$ configure --prefix=/usr
</PRE>
  </BLOCKQUOTE>
  <H4>
    Installing <A NAME="installing-documentation-cvs">documentation</A> from
    the cvs tree
  </H4>
  <P>
  If you have a copy of the cvs tree on your system then you should be able
  to type
  <BLOCKQUOTE>
    <PRE># make install_docs
</PRE>
  </BLOCKQUOTE>
  <P>
  Again you will probably need to be root to do this install too. Use either
  "su" or "sudo" as appropriate for your system (<A HREF="#su">see above</A>).
  <H2>
    <A NAME="Dependencies">Dependencies</A> (external libraries/helper programs)
  </H2>
  <P>
  FontForge tries to avoid hard dependencies. If a library is missing then
  fontforge will (in most cases) be able to continue to run, it will just lack
  whatever functionality the library provides. So if you don't need to import
  tiff images, you don't need libtiff. If you don't need to handle SVG fonts
  you don't need libxml2, etc.
  <P>
  If you want to do autotracing around character images you should also download
  either
  <UL>
    <LI>
      Peter Selinger's <A HREF="http://potrace.sf.net/">potrace</A>
    <LI>
      Martin Weber's <A HREF="http://sourceforge.net/projects/autotrace/">autotrace
      program.</A>
  </UL>
  <P>
  If you want to edit <A NAME="cidmaps">CID keyed </A>fonts you need these
  <A HREF="cidmaps.tgz">character set descriptions</A>. (These were last updated
  22-Dec-2004)
  <P>
  You might want this addition to FontForge's built in
  <A HREF="Encodings.ps.gz">character set encodings.</A> Use FontForge's
  Encoding-&gt;Load Encoding command to add these encodings to the Encoding
  Menu.
  <P>
  With the appropriate image libraries, FontForge can import png, tiff, and
  gif images to act as character backgrounds for tracing purposes (FontForge
  can import bmp and xbm formats without external libraries). With libxml2
  FontForge can read SVG fonts. With the freetype library FontForge will do
  a better job making bitmap characters for you (and can debug truetype).
  libuninameslist provides standard unicode names and annotations for unicode
  characters (it has been localized into English and French). With libintl
  (GNU gettext) fontforge can translate its user interface.
  <P>
  None is required for the proper compilation/execution of FontForge, if the
  libraries are not present they will not be used. (If the machine on which
  your executable was build didn't have them, then you must not only install
  the libraries, but <A HREF="#source">rebuild fontforge from source</A>) If
  your machine doesn't have them and you want them they are available from:
  <UL>
    <LI>
      Image Libraries (to allow FontForge to import images in those formats)
      <UL>
	<LI>
	  <A HREF="http://www.libpng.org/pub/png/libpng.html">libpng</A> (and required
	  helper <A HREF="http://www.gzip.org/zlib/">zlib</A>)
	<LI>
	  <A HREF="http://www.libtiff.org/">libtiff</A>
	<LI>
	  <A HREF="http://gnuwin32.sourceforge.net/packages/libungif.htm">libungif</A>
	<LI>
	  <A HREF="http://www.ijg.org/">libjpeg</A>
      </UL>
    <LI>
      Under Mac OS/X these libraries are available from the
      <A HREF="http://fink.sourceforge.net/">fink project</A>.
    <LI>
      <A HREF="http://xmlsoft.org/">libxml2</A><BR>
      To parse SVG files and fonts
    <LI>
      <A HREF="http://libuninameslist.sf.net">libuninameslist</A><BR>
      To display unicode names and annotations.
    <LI>
      <A HREF="http://www.gnu.org/software/libiconv/">libiconv</A><BR>
      Only important for systems with no built-in iconv(). If not present FontForge
      contains a minimal version of the library which allows it to work. But if
      you want to use libiconv you must configure it with
      <CODE>--enable-extra-encodings</CODE>, as FontForge requires Shift-JIS.
    <LI>
      <A HREF="http://freetype.sf.net/">freetype</A><BR>
      To do a better job rasterizing bitmaps, and to enable the truetype debugger
      <TABLE BORDER CELLPADDING="6" WIDTH="50%" ALIGN=CENTER>
	<TR>
	  <TD BGCOLOR="#ffff00">Some of FontForge's commands depend on your compiling
	    freetype with the byte code interpreter enabled. This is disabled by default
	    because it infringes on certain
	    <A HREF="http://freetype.sourceforge.net/patents.html">patents granted to
	    Apple</A>. If you have a license from Apple (or live in a country where these
	    patents do not apply) then you may enable the interpreter by setting the
	    appropriate macro in .../include/freetype/config/ftoption.h before you build
	    the library (see the README.UNX file on the top level of the freetype
	    distribution).
	    <P>
	    To enable the truetype debugger, FontForge needs to have the freetype source
	    directories available when it is built (there are some include files there
	    which it depends on)</TD>
	</TR>
      </TABLE>
    <LI>
      <A HREF="http://www.cygwin.com/">cygwin</A><BR>
      To build or run on a MS Windows system you need the cygwin environment and
      libraries.
    <LI>
      libintl<BR>
      Is standard on most unixes. It is part of the fink package on the mac.
  </UL>
  <P>
  <TABLE BORDER CELLPADDING="2">
    <CAPTION>
      Versions of shared libraries in my builds
    </CAPTION>
    <TR>
      <TD></TD>
      <TD>libpng</TD>
      <TD>libtiff</TD>
      <TD>libungif</TD>
      <TD>libjpeg</TD>
      <TD>libxml2</TD>
      <TD>libuninameslist</TD>
      <TD>freetype</TD>
    </TR>
    <TR>
      <TD>i386 linux builds</TD>
      <TD>3.1.2.2<BR>
	=1.2.2</TD>
      <TD>3.5<BR>
	=20011128</TD>
      <TD>4.1.0<BR>
	=4</TD>
      <TD>62.0.0<BR>
	=62 (6b)</TD>
      <TD>2.5.4<BR>
	=2.5.4</TD>
      <TD>0.0.1</TD>
      <TD>6.3.3<BR>
	=2.1.9</TD>
    </TR>
    <TR>
      <TD>solaris builds</TD>
      <TD>2<BR>
	=1.0.8</TD>
      <TD>3<BR>
	=19970127</TD>
      <TD>
	  <HR>
      </TD>
      <TD>6<BR>
	=62 (6b)</TD>
      <TD>
	  <HR>
      </TD>
      <TD>
	  <HR>
      </TD>
      <TD>
	  <HR>
      </TD>
    </TR>
    <TR>
      <TD>Mac OS/X builds</TD>
      <TD>(static)</TD>
      <TD>
	  <HR>
      </TD>
      <TD>(static)</TD>
      <TD>(static)</TD>
      <TD>2.5.0<BR>
	=2.5.0</TD>
      <TD>
	  <HR>
      </TD>
      <TD>6.3.3<BR>
	=2.1.4</TD>
    </TR>
    <TR>
      <TD></TD>
      <TD></TD>
      <TD></TD>
      <TD></TD>
      <TD></TD>
      <TD></TD>
      <TD></TD>
      <TD></TD>
    </TR>
  </TABLE>
  <P>
  Normally FontForge depends on the X11 windowing system, but if you are just
  interested in the scripting engine (with no user interface), it may be built
  on systems without X (the configure script should figure this out).
  <P>
  <A NAME="suggested-fonts">You</A> might also want to pull down some unicode
  bitmap fonts that fontforge uses
  <UL>
    <LI>
      <A HREF="http://bibliofile.duhs.duke.edu/gww/fonts/Monospace/index.html">my
      monospace fonts</A>
    <LI>
      <A HREF="http://bibliofile.duhs.duke.edu/gww/fonts/Caliban/index.html">my
      sans-serif font</A>
    <LI>
      <A HREF="http://czyborra.com/unifont/">The unifont</A>
    <LI>
      <A HREF="http://clr.nmsu.edu/~mleisher/cu.html">ClearlyU's font</A>
    <LI>
      <A HREF="http://www.nongnu.org/freefont/">The FreeFont project</A>
    <LI>
      <A HREF="http://www.cl.cam.ac.uk/~mgk25/ucs-fonts.html">X fixed</A>
    <LI>
      <A HREF="http://canopus.iacp.dvo.ru/~panov/cm-unicode/">Computer Modern Unicode
      fonts</A>
    <LI>
      <A HREF="http://eyegene.ophthy.med.umich.edu/unicode/fontguide/">Unicode
      Font Guide for Free/Libre Open Source Operating Systems</A> 
	<HR>
    <LI>
      <A HREF="nonBMP/index.html">FontForge's conventions for non-BMP unicode bitmap
      fonts</A>
  </UL>
  <P>
  To install these, put them in a directory, and in that directory type:
  <BLOCKQUOTE>
    <PRE>    $ mkfontdir
    $ xset fp+ `pwd`
</PRE>
  </BLOCKQUOTE>
  <P>
  You should make sure that the xset line happens whenever X is started on
  your machine (put it in your .xsession file).
  <H2>
    <A NAME="Documentation">Documentation</A>
  </H2>
  <P>
  <A HREF="overview.html">The complete fontforge manual is available online.</A>
  <UL>
    <LI>
      <A HREF="ja/overview.html"><IMG SRC="manual-ja.png" WIDTH="268" HEIGHT="18"
	  BORDER="0"></A>
    <LI>
      It is also available in a <A HREF="fontforge_htdocs-20051202.tgz">tarball</A>
      (Version 2-Dec-2005)
    <LI>
      There is a shorter tutorial which
      <UL>
	<LI>
	  <A HREF="editexample.html">Is available online</A>
	<LI>
	  <A HREF="ja/editexample.html"><IMG SRC="tutorial-ja.png" WIDTH="193" HEIGHT="17"
	      BORDER="0"></A>
	<LI>
	  <A HREF="http://edt1023.sayya.org/fontforge/editexample.html"><IMG SRC="tutorial-zh_TW.png"
	      WIDTH="35" HEIGHT="18" BORDER="0"></A>
	<LI>
	  <A HREF="fontforge-tutorial.pdf">Can be downloaded as pdf</A>
	<LI>
	  <A HREF="tutorial.tgz">example files </A>(to work through the tutorial yourself)
      </UL>
    <LI>
      A documentation tarball can be retrieved from the
      <A HREF="http://sourceforge.net/project/showfiles.php?group_id=103338&amp;package_id=114329">file
      release system</A>
    <LI>
      The cvs tree contains a sub-directory called htdocs containing the manual
      <UL>
	<LI>
	  The cvs tree contains a sub-sub-directory called htdocs/ja containing the
	  Japanese translation of the manual
      </UL>
      <P>
      See the general comments on the <A HREF="#src-cvs">cvs tree </A>to see how
      to access this.<BR>
      See the section on <A HREF="#installing-documentation-cvs">installing cvs
      documentation </A>to see how to install the docs from the cvs tree
  </UL>
  <H3>
    <A NAME="doc-tar">Installing a documentation tarball</A>
  </H3>
  <P>
  Once you have downloaded the documentation tarball as described above, you
  should move to the directory containing it, and type:
  <BLOCKQUOTE>
    <PRE>$ su
password: ******
# mkdir -p /usr/local/share/doc/fontforge
# mv fontforge_htdocs*.tgz /usr/local/share/doc/fontforge
# tar xfz fontforge_htdocs*.tgz
# rm fontforge_htdocs*.tgz
</PRE>
  </BLOCKQUOTE>
  <P>
  After doing this fontforge will be able to find the docs on your system when
  you press the [F1] (or [Help]) key. If you don't do this fontforge will attempt
  to find documentation online.
  <P>
    <HR>
  <UL>
    <LI>
      <A HREF="running.html">Running FontForge</A>
  </UL>
</DIV>
</BODY></HTML>
