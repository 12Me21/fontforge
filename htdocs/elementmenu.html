<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 11-Dec-2000 -->
  <!-- AP: Last modified: 15-Dec-2001 -->
  <TITLE>The Element Menu</TITLE>
</HEAD>
<BODY>
<H1 ALIGN=Center>
  The Element Menu
</H1>
<P>
This menu is not present in the Metrics View.
<P>
<UL>
  <LI>
    <A HREF="#Font">Font Info</A>
  <LI>
    <A HREF="#Info">Get/Char Info</A>
  <LI>
    <A HREF="#Dependencies">Show Dependencies</A>
  <LI>
    <A HREF="#Problems">Find Problems...</A>
  <LI>
    <A HREF="#Bitmaps">Bitmaps Available...</A>
  <LI>
    <A HREF="#Regenerate">Regenerate Bitmaps...</A>
  <LI>
    <A HREF="#Transform">Transform...</A>
    <UL>
      <LI>
	<A HREF="#Flip">Flip Horizontally</A>
      <LI>
	<A HREF="#FlipV">Flip Vertically</A>
      <LI>
	<A HREF="#Rotate">Rotate 90&#176; CW</A>
      <LI>
	<A HREF="#Rotate90CCW">Rotate 90&#176; CCW</A>
      <LI>
	<A HREF="#Rotate180">Rotate 180&#176;</A>
      <LI>
	<A HREF="#Skew">Skew</A>
    </UL>
  <LI>
    <A HREF="#Expand">Expand Stroke...</A>
  <LI>
    <A HREF="#Remove">Remove Overlap</A>
  <LI>
    <A HREF="#Simplify">Simplify<BR>
    Cleanup Chars</A>
  <LI>
    <A HREF="#MetaFont">MetaFont...</A>
  <LI>
    <A HREF="#AutoTrace">AutoTrace</A>
  <LI>
    <A HREF="#Align">Align</A>
    <UL>
      <LI>
	<A HREF="elementmenu.html#Average">Average Points</A>
      <LI>
	<A HREF="elementmenu.html#Space-Pts">Space Points</A>
      <LI>
	<A HREF="elementmenu.html#Space-Regions">Space Regions</A>
      <LI>
	<A HREF="#Parallel">Make Parallel</A>
    </UL>
  <LI>
    <A HREF="#Round">Round to Int</A>
  <LI>
    <A HREF="#Clockwise">Clockwise</A>
  <LI>
    <A HREF="#Counter">Counter-Clockwise</A>
  <LI>
    <A HREF="#Correct">Correct Direction</A>
  <LI>
    <A HREF="#Accented">Build Accented Char<BR>
    Build Composite Char</A>
  <LI>
    <A HREF="#Merge">Merge Fonts...</A>
  <LI>
    <A HREF="#Interpolate">Interpolate Fonts...</A>
</UL>
<P>
<DL>
  <DT>
    <A NAME="Font">Font</A> Info
  <DD>
    In all views this brings up the <A HREF="fontinfo.html">Font Info
    dialog</A>.<BR>
    CID keyed fonts can set information on the CID font as a whole (rather than
    just the current sub-font, which is what this command does) from
    <A HREF="cidmenu.html#FontInfo">CID-&gt;CID Font Info</A>.
  <DT>
    Get/Char <A NAME="Info">Info</A>
  <DD>
    In the outline view this brings up <A HREF="getinfo.html">one of four different
    dialogs</A> (Point Info, Image Info, Reference Info or Character Info) depending
    on what is selected.<BR>
    In the font and bitmap view this only brings up the
    <A HREF="getinfo.html#Character">Character Info dialog</A>.
  <DT>
    Show <A NAME="Dependencies">Dependencies</A>
  <DD>
    This dialog is only available in the font and outline character views. It
    shows you what characters contain a reference to the current character. You
    can open a window looking at any of the dependent characters by selecting
    that character and pressing the [Show] button.
  <DT>
    Find <A NAME="Problems">Problems</A>...
  <DD>
    This command is only present in the font view and the outline character view
    and will search for several common problems. In the character view it will
    select anything that needs to be fixed, in the font view it will check all
    selected characters and if any have problems will open them and select the
    problems. It will post a message telling you of each problem found. It brings
    up the <A HREF="problems.html">Find Problem</A> dialog to let you choose
    what problems to look for.
  <DT>
    <A NAME="Bitmaps">Bitmaps</A> Available...
  <DD>
    This brings up a list of pixel sizes for bitmap fonts.<BR>
    <IMG SRC="bitmapsavail.png" WIDTH="263" HEIGHT="298"><BR>
    If you have bitmap fonts this will show their pixel sizes. If you remove
    a size that is in the list then that font will be deleted from the sfd file.
    If you add a size then that size font will be created and stored in the sfd
    file. Note that on X the conversion between pixel size and point size is
    dependent on the screen resolution. Two common resolutions are used on X:
    75dpi and 100dpi. This dialog provides the conversion between pixel size
    and point sizes at these resolutions.
    <P>
    Normally the new characters are created by rasterizing the outline font,
    but if you are only editing bitmaps (with no outline font) then the new
    characters will be created by scaling the font displayed in the font view.<BR>
    In CID keyed fonts there will not be a set of bitmaps for each sub font,
    instead the entire complex of sub-fonts share bitmaps.
  <DT>
    <A NAME="Regenerate">Regenerate</A> Bitmaps...
  <DD>
    If you have changed the outline that a bitmap is based one then you should
    (at some point) look into changing the bitmap too. This command allows you
    to regenerate a subset of the characters in a given bitmap font. In the font
    view you can regenerate all selected characters, while in the bitmap and
    outline views you can regenerate the current character. You can pick what
    pixel sizes should be regenerated too (unlike the above command, removing
    a bitmap size from the regenerate list will not delete it).
  <DT>
    <A NAME="Transform">Transform</A>...
  <DD>
    <A HREF="transform.html">In the Font and Outline Views this brings up a
    dialog</A>, but in the bitmap view there is a submenu with a selection of
    choices that are meaningful in a bitmap.
    <DL>
      <DT>
	<A NAME="Flip">Flip</A> Horizontally
      <DD>
	Flips the bitmap horizontally.
      <DT>
	<A NAME="FlipV">Flip</A> Vertically
      <DD>
	Flips the bitmap vertically.
      <DT>
	<A NAME="Rotate">Rotate</A> 90&#176; CW
      <DD>
	Rotates the bitmap 90&#176; clockwise.
      <DT>
	<A NAME="Rotate90CCW">Rotate</A> 90&#176; CCW
      <DD>
	Rotates the bitmap 90&#176; counter-clockwise.
      <DT>
	<A NAME="Rotate180">Rotate</A> 180&#176;
      <DD>
	Rotates the bitmap 180&#176;
      <DT>
	<A NAME="Skew">Skew</A>
      <DD>
	Allows you to specify a ratio by which to skew the bitmap 1:3 means for every
	3 pixel rise in y, skew the bitmap one pixel horizontally.
    </DL>
  <DT>
    <A NAME="Expand">Expand</A> Stroke...
  <DD>
    Only in the font and outline views. In the font view it applies to all foreground
    splines in all selected characters. In the outline view it applies to all
    paths that have at least one point selected (or if no points are selected
    then it applies to all paths).<BR>
    <IMG SRC="twolines.png" WIDTH="247" HEIGHT="247">
    <IMG SRC="expandedlines.png" WIDTH="247" HEIGHT="247"><BR>
    Above is a simple example of what expand stroke can do. It takes the two
    open paths above left and turns them into the two closed paths right.<BR>
    <IMG SRC="expandstroke.png" WIDTH="317" HEIGHT="295"><BR>
    The Expand Stroke dialog gives you control over various aspects of the expansion
    process. You can chose a stroke width, how the ends of an open path should
    be drawn, and how the path should look when two splines (or lines) join which
    do not have the same slope (ie. at a corner point). Or you may choose to
    have the path be that which would be traced by a calligraphic pen.
  <DT>
    <A NAME="Remove">Remove</A> Overlap
  <DD>
    Only in the font and outline views. If two closed paths intersect then there
    will be overlap. This will get rid of it, leaving one closed path behind.
    (if the path directions are wonky, strange things result).<BR>
    <IMG SRC="expandedlines.png" WIDTH="247" HEIGHT="247">
    <IMG SRC="overlappedlines.png" WIDTH="247" HEIGHT="247"><BR>
    This command is probably the buggiest in PfaEdit. So before PfaEdit invokes
    the command it will save the state to the error recovery file.<BR>
    Warning: Splines which are tangent (or nearly so) cause problems. Points
    which are close together can cause problems.
  <DT>
    <A NAME="Simplify">Simplify</A>
  <DD>
    Only in the font and outline views. If you have lots of points on a path,
    some of which do not materially add to the path's shape, then this command
    will remove the extraneous points.
  <DT>
    Cleanup Char
  <DD>
    This is a variant on the simplify command, obtainable if you hold down the
    shift key when invoking from the menu. In this case if there is a spline
    which actually traces out a line but none the less has control points, then
    this command will remove the control points.
  <DT>
    <A NAME="MetaFont">MetaFont</A>...
  <DD>
    This <A HREF="MetaFont.html">dialog</A> is only present in the font and outline
    character views. It allows you to make fonts bolder or condensed. It doesn't
    work very well.
  <DT>
    <A NAME="AutoTrace">AutoTrace</A>
  <DD>
    This command is only available if you have downloaded Martin Weber's
    <A HREF="http://sourceforge.net/projects/autotrace/">autotrace program</A>.
    If you have a background image in a character then autotrace will automagically
    trace the outlines of that image.<BR>
    If you hold down the shift key when you invoke AutoTrace from the menu then
    you will be prompted for arguments to pass to it, if you do not hold down
    the shift key PfaEdit will use the same arguments it used last time. AutoTrace's
    arguments are described in "$ autotrace -help" or in the README file that
    came with the program. Please do not specify input/output files or formats.
    PfaEdit fills these in.<BR>
    I may not be loading the results of autotrace properly in all cases (I do
    in my test cases, of course). AutoTrace traces out both foreground and background
    regions, so I may sometimes leave behind a lump which represents a background
    area. Just delete it if it happens (and send me the image so I can fix things
    up).<FONT COLOR="Red"><BR>
    <STRONG>CAVEAT: </STRONG></FONT>Autotrace 2.8 changed its argument conventions
    (around Dec 2001). New versions (after 15 Dec) of pfaedit will not work with
    autotrace2.7, old versions of pfaedit will not work with autotrace2.8. I
    see no way to make something work with both or to detect the current version...
  <DT>
    <A NAME="Align">Align</A> menu
  <DD>
    This submenu is only present in the outline view, it allows you to align
    points or to space them out along an axis.
    <DL>
      <DT>
	<A NAME="Average">Average</A> Points
      <DD>
	This will look at all the selected points and find the coordinate with the
	least change. Then it will average find the median point on that axis and
	set all the selected points to have that value for the appropriate
	coordinate.<BR>
	So if you have a line which is almost horizontal, and select its endpoints
	and apply this command it will be horizontal.<BR>
	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
	<IMG SRC="Constrain2_1.png" WIDTH="122" HEIGHT="90">&nbsp; &nbsp; &nbsp;
	&nbsp; <IMG SRC="Constrain2_2.png" WIDTH="122" HEIGHT="90"><BR>
	(if you select exactly two points, and they lie close to a 45 diagonal, then
	they will be forced to the diagonal rather than to horizontal/vertical)
      <DT>
	<A NAME="Space-Pts">Space Points</A>
      <DD>
	If you have three or more points selected then PfaEdit will figure out the
	coordinate that has the greatest change and will space the points out regularly
	along that axis.<BR>
	If you select one point (and that point is in the middle of a path) then
	(internally) the point's location will be expressed in a coordinate system
	which is rotated so that one axis is parallel to the line between the two
	points that surround the selected point. The selected point will be moved
	mid-way between the two on this axis, while it's other coordinate remains
	fixed.<BR>
	That's an extremely complicated way of saying: If the selected point is connected
	to two points which are on a horizontal line, then the selected point's x
	coordinate will be midway between the two, while its y coordinate remains
	unchanged.<BR>
	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
	<IMG SRC="Constrain1_1.png" WIDTH="122" HEIGHT="90">&nbsp; &nbsp; &nbsp;
	&nbsp; <IMG SRC="Constrain1_2.png" WIDTH="122" HEIGHT="90">
      <DT>
	<A NAME="Space-Regions">Space Regions</A>
      <DD>
	This is similar to the above command except that it allows you to make a
	rather simple definition of a collection of points which should be moved
	together. Each of these regions will be regularly spaced along the chosen
	axis. A region is defined as a collection of points, each one of which is
	within some maximum distance of at least one other point in the region. The
	purpose of this is to allow you to space out the stems of the letter "m"
	so that they regularly spaced horizontally. Sadly it won't work in many cases
	because in a serifed font the serifs will often be closer to each other than
	to their respective stems.<BR>
	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
	<IMG SRC="Spacem_1.png" WIDTH="140" HEIGHT="108"> &nbsp; &nbsp; &nbsp; &nbsp;
	<IMG SRC="Spacem_2.png" WIDTH="145" HEIGHT="108">
      <DT>
	Make <A NAME="Parallel">Parallel</A>
      <DD>
	If four points are selected, and there are two lines between them, then PfaEdit
	will make those lines parallel. If there are four lines between them (ie.
	they form a quadrilateral, then PfaEdit will turn it into a parallelogram.
	(note, this only works on lines, not on curved splines)<BR>
	The last point selected will be the one moved (sometimes PfaEdit doesn't
	remember which point was selected last, then it will just pick one randomly.
	If you don't want that to happen, select your points and then single click
	on the one you want moved).
    </DL>
  <DT>
    <A NAME="Round">Round</A> to Int
  <DD>
    Only in the font and outline views. PfaEdit stores point locations as real
    numbers (ie. it retains fractional values). TrueType and PostScript Type1
    only support integral values (Well with vast effort Type1 fonts can be made
    to support real numbers but PfaEdit doesn't), so when generating the font
    points are rounded to integral values. Open Type allows real numbers easily.
    But they make the font file bigger. This command will round all selected
    locations to the closest integer.
  <DT>
    <A NAME="Clockwise">Clockwise</A>
  <DD>
    Only in the outline view. If all selected paths have a clockwise direction
    then this will be checked. Selecting it will make all paths be clockwise.
  <DT>
    <A NAME="Counter">Counter</A>-Clockwise
  <DD>
    Only in the outline view. If all selected paths have a counter-clockwise
    direction then this will be checked. Selecting it will make all paths be
    counter-clockwise.
  <DT>
    <A NAME="Correct">Correct</A> Direction
  <DD>
    Only in the outline view. Sets the direction of outermost paths to be clockwise.
    The next path crossed will be made counter-clockwise, the next clockwise,
    etc.<BR>
    This command may produce unexpected results if two splines cross.
  <DT>
    Build <A NAME="Accented">Accented/Composite</A> Char
  <DD>
    Only in the font and outline views.
    <P>
    If the shift key is not depressed when selecting the menu item this will
    only build accented letters, if the shift key is depressed it will build
    general composite characters (fractions, ligatures, digits inside parens,
    roman numerals, etc.) as well. If invoked by short-cut (Ctl-Shft-A) or mnemonic
    it will only build accented letters.
    <P>
    If the current character is an accented character (and all the base characters
    and accents have already been created) then this command will delete anything
    that is currently in the foreground and put a reference to the base character
    and another reference to the accent character into the foreground. So if
    the current character were "&Agrave;" then a reference to "A" would be added
    to it, and a reference to "`" would be centered above the "A". <BR>
    If <A HREF="editmenu.html#From">Copy From</A> is set to All Fonts then any
    bitmaps will have a similar process done (even in the outline character view).
    <P>
    Choosing accents can be a slightly tricky process. Unicode says that accented
    letters should be built out of the accents in the range 0x300-0x340, but
    this does not work too well in postscript. A Type1 font works better if the
    accented character is in the Adobe Standard Encoding, which means either
    using accents around 0x2d0 or ascii characters. Pfaedit will first attempt
    to find an accent around 0x2d0, then in ascii and finally in the 0x300-0x340
    range.
    <P>
    Not all accents should be centered above the base character, a cedilla is
    (usually) centered underneath the base, while other accents need to be placed
    to the left or right, or even overstruck. PfaEdit should know about proper
    placement of most accents (or at least a rough approximation thereto).
    <P>
    Some Unicode characters contain more than one accent. Additional accents
    will be treated similarly. This command can also be used to generate more
    general composite characters . Unicode 0x2163 is the roman numeral IV and
    this command may be used to build it. Greek capital Alpha looks exactly like
    Latin capital A and can be created. On the other hand the oe ligature will
    be replaced by an "o" followed by "e", so be a little careful. Some accents
    (for example cedilla) are treated unexpectedly on certain letters (different
    ways in different languages), so be careful of g-cedilla. &Aring; often merges
    the ring into the top of the A, but here it will float above it. Be alert.
    <P>
    <FONT COLOR="Red"><STRONG><SMALL>NOTE:</SMALL></STRONG></FONT> My centering
    algorithms attempt to guess what will look centered to the human eye (centering
    it in the middle of the character will often not look centered). You should
    examine all built characters and be prepared to adjust the accent.
    <P>
    The algorithms take some account of the italicangle<BR>
    You can configure how high the accent should float above the base character
    with the AccentOffsetPercent preference item. This lets you specify the
    percentage of the em to use as a separation. To avoid accents at slightly
    different heights, all characters near the x-height are treated as being
    at the x-height, and similarly for all characters near the cap height. 
      <HR>
    When displaying latin (cyrillic, greek, etc.) text amid a CJK characters
    displayed vertically the convention is that the latin glyphs should be rotated
    (if you were to rotate the page so that the CJK characters ran left to right
    rather than top to bottom, then the latin characters would read normally).
    Certain slots in Adobe's cid assignments have been left for rotated latin
    letters. If you apply Build Accented Character to one of these slots it will
    find the appropriate latin letter and rotate it properly.<BR>
    If a character's name is "vertcid_&lt;cid&gt;" where &lt;cid&gt; is a decimal
    number, then it is assumed to be a vertically rotated version of the glyph
    at &lt;cid&gt;. In non-cid-keyed fonts, if a character's name is
    "vertuni&lt;uni&gt;" where &lt;uni&gt; is a four digit hex number, then it
    is assumed to be a vertically rotated version of that unicode character.
  <DT>
    <A NAME="Merge">Merge</A> Fonts...
  <DD>
    Only in the font view. If you are building a unicode font you will often
    want to merge in fonts with other encodings. You can, of course, cut and
    paste from one to the other, but usually that needs to be done one character
    at a time (because the encoding may not be ordered the same as Unicode).
    Instead, if your fonts are properly encoded (with proper unicode names),
    then the Merge Fonts command will put them into the right places in the current
    font.
  <DT>
    <A NAME="Interpolate">Interpolate</A> Fonts...
  <DD>
    Only in the font view. If you have a bold font and a light font and would
    like to create a medium font, then you can interpolate a font between the
    two (or you can extrapolate a font that's even bolder or lighter). Your two
    fonts must have the same sets of characters, and each character must have
    the same number of paths (ordered similarly) and each path must have the
    same number of points on it, and must have the same references.
</DL>
<P>
<H2>
  Other menus
</H2>
<UL>
  <LI>
    <A HREF="filemenu.html">File</A>
  <LI>
    <A HREF="editmenu.html">Edit</A>
  <LI>
    <A HREF="pointmenu.html">Point</A>
  <LI>
    <A HREF="elementmenu.html">Element</A>
  <LI>
    <A HREF="hintsmenu.html">Hints</A>
  <LI>
    <A HREF="viewmenu.html">View</A>
  <LI>
    <A HREF="metricsmenu.html">Metrics</A>
  <LI>
    <A HREF="cidmenu.html">CID</A>
  <LI>
    <A HREF="windowmenu.html">Window</A>
  <LI>
    <A HREF="helpmenu.html">Help</A>
  <LI>
    <A HREF="HotKeys.html">Hot Keys</A>
</UL>
<P ALIGN=Center>
-- <A HREF="pointmenu.html">Prev</A> -- <A HREF="overview.html">TOC</A> --
<A HREF="hintsmenu.html">Next</A> --
<P>
</BODY></HTML>
