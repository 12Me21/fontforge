<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 27-Aug-2002 -->
  <!-- AP: Last modified: 4-Apr-2004 -->
  <TITLE>Change log for FontForge</TITLE>
</HEAD>
<BODY>
<H1 ALIGN=Center>
  <A NAME="change-log">Changes</A> <SMALL>(Enhancements &amp; Bug Fixes)</SMALL>
</H1>
<UL>
  <LI>
    04-Apr-2004
    <UL>
      <LI>
	Several more fixes for cff output.
      <LI>
	We had a bad habit of including extraniuos hintmask operators in output
      <LI>
	Add a proper ff version (well, as much as my versions be proper) to
	postscript/svg output
      <LI>
	Patch from Kanou about reading format 2 bitmaps in a sfnt
      <LI>
	Patch from Kanou. MS requires a weird format for GSUB in vertical writing.
    </UL>
  <LI>
    29-Mar-2004
    <UL>
      <LI>
	When Type1 output needed to output a reference as inline splines (as opposed
	to a subroutine call or using a seac command) then it would lose any translation
	applied to that reference.
      <LI>
	Patch to Type3 output from R.L.Horn
      <LI>
	FontForge used to crash when reading in a bdf glyph with a bad bounding box.
      <LI>
	Reading a kerning class from an sfd file when that class had more second
	character classes than first character classes would screw up memory and
	probably cause a crash.
      <LI>
	Attempting to edit a 'cvt ' table in a font without one caused a crash.
	Attempting to edit a 'cvt ' table in a font with one showed an empty table.
      <LI>
	Make scaling from the fontview apply to kerning and positioning data.
      <LI>
	Drawing a rectangle by dragging from center out didn't work
      <LI>
	Display phantom points when debugging. Be prepared to find either 2 (horizontal
	metrics) or 4 (both horizontal or vertical) depending on what version of
	freetype we've got.
      <LI>
	Bug in both reading and writing encoding format 0 of cff fonts. I forgot
	to ignore .notdef so everything was off by 1.
      <LI>
	If a glyph was used as a reference in another glyph, and we put it in a
	subroutine (type1 output), and it had hint conflicts, then the first group
	of hints never got output.
      <LI>
	In multilayered mode, the Revert Glyph command left memory in a potentially
	bad state. (If you immediately closed the charview, then nothing bad would
	happen, but if you tried any editing in it, then nasty things happened.)
    </UL>
  <LI>
    21-Mar-2004
    <UL>
      <LI>
	When flattening a CID file fontforge lost track of the script/lang list (and
	other things) which caused bugs when dealing with substitutions
      <LI>
	When saving multiply, fontforge could free a fonts hash table several times
      <LI>
	When flattening by a CMAP file from a script fontforge could crash
      <LI>
	Added a CIDFlatten command to scripting.
      <LI>
	The "cleanup of OS/2" on 29-Feb actually broke WinAscent/Descent
      <LI>
	When loading a mac unicode string from the 'name' table, fontforge failed
	to convert the language correctly.
      <LI>
	When loading a mac contextual substitution statemachine, fontforge made
	eggregious errors in guessing to what glyphs were usable for a substitution
	of the marked glyph.
      <LI>
	Added the current encoding to the font's window title (also display a flag
	to show whether the font has been changed)
      <LI>
	When moving points around on an order2 contour fontforge could end up with
	bad control points and would then produce annoying internal errors alterting
	the user to this fact.
      <LI>
	The CID Flatten commands did not work when the view was compacted.
      <LI>
	CharInfo had been deliberately disabled in CID fonts
      <LI>
	Show ATT didn't work with CID keyed fonts
      <LI>
	The preference mapping between mac and opentype small caps features was wrong.
      <LI>
	Werner found a strange bug in splinefill that I can't reproduce (and can't
	understand how it could happen) but the fix appears obvious.
      <LI>
	Add a command to show what glyphs use the current glyph in a substitution
	(so "A.swash" would show that "A" used it, and "i" would show that "fi" used
	it).
      <LI>
	Changed the extension shown in the Generate Fonts dlg for multiple saves
	to ".pfb". Put in a %s to make it obvious that more will be added to the
	name. Support people who want .pfa fonts too.
      <LI>
	The dialog for adding/editing correspondances between mac feature/settings
	and opentype features never went away.
      <LI>
	Disable the Default ATT menu if no char is selected in the fontview.
      <LI>
	FontForge sometimes had trouble drawing the correct rotated glyph in cid
	fonts on the display lines of the fontview.
      <LI>
	Changed the way names used in cidmap files, so there are new cidmap files
	now.
      <LI>
	The ShowAtt dialog could overwrite itself if there were enough aats in it.
	(and at one point the vertical scroll bar was set to the bounds of the horizontal
	scroll bar)
      <LI>
	Still getting the windows ascent/descent wrong. This time in CID keyed fonts.
      <LI>
	Add some new language translations for things like "Bold" (dutch, swedish,
	norwegian)
      <LI>
	Dragging and dropping a char from the font view into the char info dlg (to
	create a substitution) created a crash instead.
      <LI>
	Support more of postscript in the interpretter
      <LI>
	Our svg fonts pointed to a not-yet-existing dtd file
      <LI>
	Support for Apple's distorable fonts (sort of like truetype multi-master
	fonts)
      <LI>
	Depressing the control key now makes popups live longer (until the mouse
	moves).
      <LI>
	new command in MM menu: Blend to new font
    </UL>
  <LI>
    2-Mar-2004
    <UL>
      <LI>
	Changed name from pfaedit to fontforge
    </UL>
  <LI>
    <A HREF="oldchangelog.html">Earlier Changes </A>
  <LI>
    <A HREF="pfaeditchangelog.html">Changes to PfaEdit (predeccessor to
    FontForge)</A>
</UL>
</BODY></HTML>
