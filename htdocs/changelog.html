<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 27-Aug-2002 -->
  <!-- AP: Last modified: 19-Jul-2008 -->
  <TITLE>Change log for FontForge</TITLE>
  <LINK REL="icon" href="ffanvil16.png">
  <LINK REL="stylesheet" TYPE="text/css" HREF="FontForge.css">
</HEAD>
<BODY>
<DIV id="in">
  <H1 ALIGN=Center>
    <A NAME="change-log">Changes</A> <SMALL>(Enhancements &amp; Bug Fixes)</SMALL>
  </H1>
  <P>
  Changes since the last release may be found by performing a "cvs log" command
  on the file stamp.c.
  <BLOCKQUOTE ID="lit">
    <TABLE>
      <TR>
	<TD><B><SMALL>TEGEUS:</SMALL></B><BR>
	  &nbsp; &nbsp; &nbsp; Tell me,<BR>
	  What is your opinion of Progress? Does it, for example,<BR>
	  Exist? Is there ever progression without retrogression?<BR>
	  Therefore is it not true that mankind<BR>
	  Can more justly be said increasingly to Gress?</TD>
	<TD>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
	  &nbsp;</TD>
	<TD VALIGN="Bottom"><P ALIGN=Right>
	  -- <SMALL>A Phoenix too Frequent<BR>
	  Christopher Fry, 1950</SMALL></TD>
      </TR>
      <TR>
	<TD COLSPAN=3>
	    <HR>
	</TD>
      </TR>
      <TR>
	<TD>"The trouble is," he said, "is that things <I>never</I> get better,<BR>
	  they just stay the same, only more so.</TD>
	<TD>&nbsp; &nbsp; &nbsp; &nbsp;</TD>
	<TD VALIGN="Bottom"><P ALIGN=Right>
	  -- <SMALL><STRIKE>Faust</STRIKE> <FONT COLOR="Red">Eric</FONT><BR>
	  Terry Pratchett, 1990</SMALL></TD>
      </TR>
    </TABLE>
  </BLOCKQUOTE>
  <UL>
    <LI>
      ???
      <UL>
	<LI>
	  Updated Russian UI
	<LI>
	  Updated Simplified Chinese UI
	<LI>
	  Small Caps dialog greatly rewritten and merged into the sub/superscript dialog
	  and a new change glyph dialog.
	<LI>
	  Alexey Kryukov makes Small Caps and friends deal with diagonal stems.
	<LI>
	  Update the upload mechanism to OFLib to send a preview image, license text
	  (if specified in our database) and fontlog (again, if in our database). Currently
	  OFLib throws away both the license info and the fontlog, but I hope they
	  will fix that in time.
	<LI>
	  Add a dialog to browse fonts on the OFLib.
	<LI>
	  Fix some bugs in feature file generation of contextual chaining lookups which
	  refer to marks. Note these are not supported in the spec. This is a FontForge
	  only extension.
	<LI>
	  If a script contain no default language features (but did contain some languages)
	  then ff produced a garbage script table for GPOS/GSUB.
	<LI>
	  A number of Dialogs still did not autosize themselves for different languages
	  Create Hints, Kern (Anchor) Pair, Review Hings.
	<LI>
	  On systems using different font metrics, the debug pane looks bad with the
	  buttons partly covered by the instruction pane. If the font is large, and
	  the cvt dlg empty, then I'm told ff complains.
	<LI>
	  Barry points out that Add Encoding Slots scrolls to the wrong place.
	<LI>
	  Adding glyphs in compacted encodings caused problems.
	<LI>
	  When the user resizes the outline glyph window, retain that size and use
	  it for the default size of subsequent invocations of the window.
	<LI>
	  It used to be that whenever ff opened an sfd file then all subsequent new
	  fonts (or fonts opened from real font files) would be displayed in windows
	  the same size as the one requested in the sfd file. Only set the window size
	  preference when the user explicitly changes it, not upon openning something
	  with a different setting.
	<LI>
	  In a CID-keyed font, when opening an empty CID slot, ff could trample memory.
	<LI>
	  BlueFuzz support for autohinter and metafont.
	<LI>
	  Add some checks to make sure that we can survive bad font data without crashing.
	<LI>
	  When trying to change kerning between the last two glyphs in the metrics
	  view using the text field (rather than dragging the line) then the textfield
	  would change, but the kerning would not.
	<LI>
	  In the metrics view, give the user several options about the grid (which
	  shows the advance widths of the glyphs)
	  <UL>
	    <LI>
	      hidden
	    <LI>
	      fully displayed
	    <LI>
	      small lines at the top and bottom of the pane
	    <LI>
	      fully displayed except when the user is adjusting kerning or the advance
	      width, etc. When adjusting grid vanishes until user releases the mouse button.
	  </UL>
	  <P>
	  (setting is sticky).
	<LI>
	  Allow the user to customize the colors in the metrics view.
	<LI>
	  In the metrics view (or in the print display dlg) when glyphs are overlapping
	  (e asier to see when glyphs are large) then the places where one glyph ends
	  and another begins often have a faint halo of lighter pixels. Try to improve
	  things and make these joins be more uniform in color.
	<LI>
	  Add minimal support for alpha channels (treat them as a bitmask for transparent).
	<LI>
	  I find it really hard to believe that this is an error, but I have a second
	  hand report that MicroSoft claims that it is. To me making it erroneous is
	  pointless and annoying, but I don't write the spec. <BR>
	  Add to Find Problems and Validate a check to see that if a base glyph (or
	  mark) contains an anchor point in one anchor class in a lookup subtable,
	  then it must have anchor points for ALL anchor classes in that subtable.
	<LI>
	  Fontimage would crash if asked to process a font with glyphs not in BMP.
	  Make fontimage better about fonts which contain no standard scripts (Apostolos's
	  Phaistos font).
	<LI>
	  A few tweaks to make stemdb.c usable for resizing glyphs and stem control.
	<LI>
	  When importing lookups into a font, append the fontname to the lookup name
	  only if there is already a lookup in the new font with the original name.
	<LI>
	  Empty glyphs containing a "." in the name could cause ff to crash when doing
	  or checking to see if it could do a build accented.
	<LI>
	  Gasp editing was broken (still) from the change to the cleartype stuff.
	<LI>
	  Andrey P. would like to see a reference's bounding box in the Element-&gt;Get
	  Info dlg for the reference.
	<LI>
	  Revert glyph had some stray memory references.
	<LI>
	  Add two proposed language tags for IPA use (one for IPA and one for Americanist).
	<LI>
	  In an empty python layer layer.boundingBox should return a tuple of 4 zeros,
	  instead it returned a tuple of 2 zeros and 2 random garbage values.
	<LI>
	  Validate dlg's scrollbar was broken, and you couldn't drag the thumb up to
	  the top (you could get it to the top by other ways).
	<LI>
	  Add a revalidate all menu item to the window to force a reevaluation of the
	  entire font.
	<LI>
	  Add ability to import graphics from a page of a pdf file.
	<LI>
	  Python interface does not catagorize points.
	<LI>
	  The (python) psMat.skew command skewed vertically, rather than horizontally
	  and by the wrong amoung.
	<LI>
	  When doing a font sample from a script which did not set the page width/height
	  explicitly, then ff would use a size of 0 for each. All text drawn was out
	  of the imaging area, lines were too short (as well as invisible), too many
	  pages (all blank).
	<LI>
	  Barry points out that "print" is a python keyword. So font.print() doesn't
	  work. Call it printSample() instead.
	<LI>
	  Freetype now (or in the next release, 2.3.7) supports dropout modes, which
	  means fontforge must do a bit of work when generating rasters for the debugger.
	<LI>
	  Move some logic out of fontimage.pe and into fontforge to make a default
	  string for a font image more widely available.
	<LI>
	  When saving an image fromt the print dlg, the top line was off the top of
	  the image.
	<LI>
	  Interpolated points need not be on integral boundaries, but ff was checking
	  for them. Different problems in validator and find problems, but both wrong.
	<LI>
	  In the point near hint check (find problems), ff was leaving the hint selected.
	<LI>
	  Fix some rounding errors in spline/line intersection.
	<LI>
	  in Font Info, after user pressed [OK] FF set the state of the subscript
	  superscript default checkbox to the panose default checkbox by mistake. This
	  means if the user defined panose and not sub/super garbage would appear in
	  the OS/2 sub/super fields.
	<LI>
	  fontimage didn't get the script right, so features weren't applied properly.
	<LI>
	  More work on conflicting stems.
	<LI>
	  Pressing [Done] in the print dialog would right to a random address on the
	  stack. Depending on what was going on when this was done it could cause a
	  crash.
	<LI>
	  Fix an uninitialized variable introduced by the last change to order2 conversion.
	<LI>
	  Add the ability to open an archive and peek inside it for fonts. Useful if
	  we want to open stuff from the open font library which is often packaged
	  in zip files.
	<LI>
	  Add a new validation check to see if a glyph has non-integral coordinates.
	  Only an error in TrueType (and can't happen when fontlinting a truetype file,
	  but could happen on an sfd file). Add some logic to ask user if they intend
	  to generate truetype in cases where we aren't sure.
	<LI>
	  Add a preference which allows people to change the pixmap dir -- and do what
	  we can to reload images from the new dir. Some old windows may not be updated,
	  but new ones should reflect the new stuff.
	<LI>
	  When ff changed the name of a glyph, it fixed up all the tabs in charviews
	  to the new name -- but in neglected to refresh them. So they still showed
	  on the screen with the old name (until something forced a refresh).
	<LI>
	  The Anchor Class dialog (which lists all anchor classes of a subtable) only
	  let you create an Anchor Control dialog for the first anchor class.
	<LI>
	  Guard (harder) against generating pathological results when converting cubic
	  to quadratic splines.
	<LI>
	  If we had a spline which almost doubled back on itself, sufficiently so that
	  the spline intersector found lots of really close points, which it called
	  intersections, but not sufficiently so that our colinear detector caught
	  it, then we'd generate a ton of intersections, overflow certain arrays, and
	  trash the stack. =&gt; ff would crash. I didn't think this could happen,
	  until someone provided a test case, so put in guards against this.
	<LI>
	  provide python access to
	  <BLOCKQUOTE>
	    glyph.altuni
	  </BLOCKQUOTE>
	  <P>
	  either None, or a tuple of tuples, one sub-tuple for each alternate. each
	  sub-tuple is (alternate-unicode, variation selector (or -1), reserved for
	  future=0 now).
	<LI>
	  Trying to build dieresis with "PreferSpacingAccents" set meant that we tried
	  to build it out of itself, and crashed.
	<LI>
	  Also fix so that 0x22EF (ellipsis variant) is built out of centered dot in
	  a spacing mode, while Ldot uses it in a non-spacing mode.
	<LI>
	  Merge fonts broken again. This time references didn't work.
	<LI>
	  Provide a mechanism for loading image files to make menu item icons (instead
	  of expecting the images to live in memory inside of fontforge). Then provide
	  a bunch of these icons so the menus will look more interesting.
	  <P>
	  Provide some icons
	  <P>
	  Also update the install procedure to put them in the right place.
	  <P>
	  Preference item containing a directory from which to read icon files
	<LI>
	  FF crashed when opening CID keyed fonts with compact_on_open set.
	<LI>
	  If fontforge got an end of file in the middle of reading a (corrupt) cff
	  font, then ff would sit there reading endlessly and ignoring the error.
	<LI>
	  Off by one error in drawing the large "pixel" rectangles that show grid fit
	  generated.
	<LI>
	  Werner points out that my instruction glosses are out of date:
	  <OL>
	    <LI>
	      Was following Apple's docs for SCANTYPE, not MS. MS has a number of new values.
	    <LI>
	      Was using an old convention for accessing PPEM which broke after freetype
	      2.3.5
	    <LI>
	      Added the FreeType return for GETINFO.
	  </OL>
	<LI>
	  Featurefile patch from Barry.
	<LI>
	  I used to think that the max glyph instruction length field of 'maxp' refered
	  to fpgm and prep. I thought this because there was a footnote (which I now
	  see was for a different field) saying the the field also applied to fpgm
	  and prep.
      </UL>
    <LI>
      07-June-2008
      <UL>
	<LI>
	  New Russian translation of the UI
	<LI>
	  Sometimes FF didn't set the message locale directory properly.
	<LI>
	  Since FF will crash if you load a feature file when the Font Info window
	  is open for that font, close the Font Info window when loading a feature
	  file.
	<LI>
	  New <A href="Styles.html#Italic">dialog</A> to help users convert an upright
	  font into an italic one.
	<LI>
	  New <A href="Styles.html#Smallcaps">dialog</A> to help users create small
	  caps glyphs.
	<LI>
	  New <A href="Styles.html#SubSuper">dialog</A> to help users create
	  subscript/superscript glyphs.
	<LI>
	  And matching python commands: font.italicize(), font.addSmallCaps(),
	  layer.stemControl()
	<LI>
	  Make it clear that the transform dlg from the fontview will move the width
	  of a glyph by default, and provide a checkbox so the user can turn this off.
	<LI>
	  Fix various bugs in argument handling of fontforge.askChoices
	<LI>
	  Change font.removeGlyph to accept a single string argument to remove the
	  glyph with that name.
	<LI>
	  FF didn't like decimal points in the metrics view l/r bearing fields -- even
	  though it would put them there itself.
	<LI>
	  Metrics windows weren't being remetricked after a feature file was loaded
	  (nor an afm file for that matter). Nor were they remetricked after lookups
	  changed in fontinfo.
	<LI>
	  Add to python
	  <UL>
	    <LI>
	      font.revert()
	    <LI>
	      font.revertFromBackup()
	    <LI>
	      font.buildOrReplaceAALTFeatures()
	  </UL>
	<LI>
	  Changing a glyph's width from a python script didn't update the metrics window.
	<LI>
	  Adding two languages in the same script to a lookup in a feature file didn't
	  work.
	<LI>
	  It wasn't possible to rename an anchor class (at least not by the obvious
	  method through the dlg). Attempting to delete an anchor class popped up an
	  error message which didn't provide all its own arguments and so could crash
	  on some systems.
	<LI>
	  Better error recovery in feature file parsing.
	<LI>
	  Werner points out that since I allow the user to see points in references
	  transformed to their ultimate position, I should also transform the raster.
	<LI>
	  Patch by Barry to fix kerning classes (ie. figuring out WHAT glyphs go into
	  a class).
	<LI>
	  When parsing a feature file which used a default languagesystem setup, ff
	  only used the most recent script.
	<LI>
	  If a lookup contained no data (no subtables, or empty subtables) then when
	  generating a feature file ff would output stuff to declare a lookup, but
	  when there was no content that frame could not be parsed as it would be
	  impossible to figure out the lookup type. Try to avoid that.
	<LI>
	  FF did not put contextual lookups on all the lists they needed to be on when
	  loading them from a feature file.
	<LI>
	  Sometimes the Open Font dlg opened with the files shifted left so the first
	  characters of the name were outside the window.
	<LI>
	  Patch from Barry Schwartz. "include" syntax in feature files didn't work.
	<LI>
	  Sort button in the lookups pane of font info didn't refresh the window after
	  it finished (so things looked unsorted even after pressing it).
	<LI>
	  When doing a Build Accented on dotted glyphname (agrave.sc, etc.) the accent
	  was positioned using anchors in the undotted base glyph (a rather than a.sc).
	<LI>
	  Fix various problems with tt debugging.
	<LI>
	  The XUID and UniqueID fields of a PostScript font are deprecated, yet FF
	  has continued to output them by default. Make it so FF no longer does so.
	<LI>
	  When outputing an sfd file, ff would sometimes output a truetype spline as
	  a line if it had a colinear control-point. I thought I'd taken care of that,
	  but here's another case which needed fixing.
	<LI>
	  Typo when loading the underline position field from a 'post' table. I was
	  subtracting half the underline width. I should have been adding it instead.
	  (Why did adobe use a different definition of the same concept in two places?
	  GRRR).
	<LI>
	  It wasn't possible to make the foreground layer invisible.
	<LI>
	  When the file chooser bookmark list got too long ff would crash.
	<LI>
	  I wasn't doing the obvious checks to the sfnt header in font lint. So now:
	  <OL>
	    <LI>
	      Check that there are no duplicate table entries
	    <LI>
	      Check that there are no overlapping tables
	    <LI>
	      Check that no tables extend beyond the end of file
	    <LI>
	      Check that the file's checksum is correct
	    <LI>
	      Check that each table's checksum is correct
	    <LI>
	      Check that the number of tables is reasonable and that the binary search
	      header is consistent with the number of tables.
	    <LI>
	      Check that required tables are present
	    <LI>
	      Check that certain fixed length tables have the correct length.
	  </OL>
	<LI>
	  Werner would like to be able to debug (truetype instructions) when using
	  non-square pixels (x_ppem != y_ppem).
	<LI>
	  Barry wants to be able to close a tab. Add a menu item.
	<LI>
	  When a glyph's name changed, I did not update the names in any tabs in the
	  charviews -- so those tabs would stop working after the change.
	<LI>
	  Scrollbar in points debug window wasn't set right.
	<LI>
	  A. Panov provides a patch. Prefs was losing bookmarks.
	<LI>
	  the new release of volt reveals some new opentype tags.
	<LI>
	  If we have a glyph named "agrave.sc" or "eacute.sc" then FF will now let
	  you build this as an accented character. It will remove the suffix from then
	  name, and look up the components of the bare glyph. Then for the first component
	  it will search for a glyph named "a.sc" and insert it. For the accents it
	  will use "grave.sc" if present, and "grave" if it is not.
	<LI>
	  FF wasn't handling a FontMatrix in the top dict of a cid font.
	<LI>
	  Trying to filter for fig files in the Import dlg caused a crash.
	<LI>
	  Check for bad OS/2 versions (that is, versions windows will reject) when
	  loading a font.<BR>
	  Connect validation's "Points too far" with Find Problem's version.<BR>
	  Make fontlint aware of the new validation states.<BR>
	  When generating a font we complained about bad os/2 version only if they
	  asked for a validation. Move it somewhere more prominant.
	<LI>
	  Add two new problems to find
	  <OL>
	    <LI>
	      Points too far apart
	    <LI>
	      Bitmap advance width different from scaled outline advance widths
	  </OL>
	  <P>
	  (also boxify the Find Problems dlg).
	<LI>
	  Add a new validation state: Test that points aren't too far appart (must
	  be within 32767 of each other or we can't output them).
	<LI>
	  Try a little harder to get some of the obscure code pages right in the OS/2
	  table.
	<LI>
	  Was getting the first glyph index of OS/2 wrong for OTF fonts.
	<LI>
	  If an sfnt contains embedded bitmaps, and if those bitmaps contain a glyph
	  whose advance width is different from that expected by scaling the horizontal
	  advance of the vector data, then windows will only get the correct metrics
	  if the "Instructions modify width" bit is set in the 'head'.flags field.
	<LI>
	  If the "changedsincelasthinted" bit got set on a glyph by the unlink/remove
	  overlap flag on a glyph during font saving, then the glyph did not get restored
	  to its original state.
	<LI>
	  Doing an Undo in the Guidelines layer didn't work, usually crashed.
	<LI>
	  Validate didn't work on CID keyed fonts.
      </UL>
    <LI>
      29-Apr-2008
      <UL>
	<LI>
	  Validate didn't work in CID keyed fonts.
	<LI>
	  Pierre Hanser wants an X Resource (fontforge.CharView.Rulers.FontSize) to
	  specify the font size of text displayed in the info line and the rulers.
	  I have applied his patch, but have made no effort to insure that text will
	  fit in the space allowed for it.
	<LI>
	  Hmm. Freetype seems to dislike rasterizing some complex outlines at large
	  pixelsizes in black and white, but seems fine with doing them in greyscale.
	<LI>
	  When opening a ttc file (and posting a dlg which lists all the fonts in the
	  file) try to find a fontname in the current locale. We used to look first
	  for English and then anything. Now try: First current locale, then english,
	  then anything.
	<LI>
	  Make the Open Font dlg (and similar file chooser dlgs) be customizable, and
	  store that info in prefs. Specifically control whether directories are displayed
	  in alphabetical order among other files, before normal files, or in a separate
	  pane.
	  <P>
	  Also add a bookmark (and back/forward) mechanism.
	<LI>
	  Add support for opening a font from http &amp; ftp URLs. Can browse ftp URLs,
	  and save fonts back to ftp.<BR>
	  <CODE>$ fontforge
	  http://openfontlibrary.org/people/Nasenbaer/Nasenbaer_-_Widelands.ttf</CODE>
	<LI>
	  The validation patch broke the save mac family dialog, and then the upload
	  to open font library broke it further.
	<LI>
	  When doing expand stroke, it is possible to have two points so close together
	  that there is no data on the curve in between the two. If this happens
	  ApproximateFromPointsSlopes can't do a good job. So be careful of this case.
	<LI>
	  Layers change introduced a potential crash in the Embolden command.
	<LI>
	  fontimage didn't draw the first line.<BR>
	  Add a cgi front end to <A HREF="fontimage.html">fontimage</A> so now it is
	  possible to get a font sample of any font on my website.
	<LI>
	  In the Display dlg, if you changed the font, or the point size without selecting
	  something, then that change would vanish instantly. Fix that.
	  <P>
	  Also, was a crash bug when mixing a font with a baseline table and a font
	  without one (in the disply dlg).
	<LI>
	  Add a command to insert text into a glyph. (<CODE>Element-&gt;Insert Text
	  Outlines)</CODE> It adds the text outlines directly (instead of a draw command
	  using another font) because most fonts can't include text drawing in their
	  glyphs. Also include a Bind to Path variant.
	<LI>
	  GLyph lists in kerning classes (in show att) were displayed as ligatures.
	<LI>
	  Upgrade to unicode 5.1
	<LI>
	  If an sfd file were saved with spiros active, and then loaded into a version
	  of fontforge without libspiro, then bad things would happen. Whenever we
	  check that spiros are active also check that they can be active, and add
	  some warnings for the user to let him/her know that spiros aren't available.
	<LI>
	  Add a tile pattern command (if --enable-tile-path) this allows the user to
	  replicate any given pattern in another glyph.
	  <P>
	  This could be used to produce a grid of guidelines, or, in conjunction with
	  <CODE>Element-&gt;Overlap-&gt;Intersec</CODE>t it could provide a poor man's
	  "Pattern Fill" (Since Pattern fills are only available in type3 fonts this
	  sort of makes them work for any font type).
      </UL>
    <LI>
      30-Mar-2008
      <UL>
	<LI>
	  Add support for the OpenType 'BASE' table, and to a lesser extent for Apple's
	  'bsln' table.
	  <P>
	  Add python scripting (font.horizontalBaseline, font.verticalBaseline) too.
	  <P>
	  Add support under Show ATT.
	  <P>
	  Remove the old vertical origin field.
	<LI>
	  Add the ability to create a dummy 'DSIG' table (one containing no signatures)
	  so that Windows will show an opentype icon for a font with extension 'ttf'
	<LI>
	  Add support for gradient and pattern fills to type3 fonts (only if
	  <CODE>./configure --enable-type3</CODE> is specified, of course.
	  <P>
	  Also add support for cliping paths
	  <P>
	  Make fonts containing images work in pdf output.
	<LI>
	  Bump the sfd version number. This should have happened in the last release,
	  but I didn't realize it was needed then, thus there will be sfd files with
	  an incorrect version number (2) when it should be 3. However that should
	  not cause the current parser problems.
	<LI>
	  New Greek translation from Apostolos
	<LI>
	  Updated Polish translation from Michal
	<LI>
	  Apostolos points out that compiling on systems without freetype (Solaris
	  boxes) was broken after last months layers patch.
	<LI>
	  Werner suggested various improvements to Show ATT:
	  <UL>
	    <LI>
	      Lookups should be sorted
	    <LI>
	      Glyph images should be drawn in more cases (before, just for substitutions)
	  </UL>
	<LI>
	  Patch from Alexey, for better handling conflicts between diagonal and H/V
	  stems.
	<LI>
	  Do a more consistent job of handlong curved stem segments. Also collect point
	  data for off-curve points too (may be useful in future for TTF hinting).
	<LI>
	  Last month I put in a patch to make sure the lsb as stored in the 'hmtx'
	  table was really the glyph's lsb if bit 1 of the head.flags field were set.
	  Unfortunately I read in the lsb as an unsigned number which shifted negative
	  lsbs off to around 65535. FF sometimes refused to rasterize them. Of course
	  when the font was generated they got truncated back to negatives in the output.
	<LI>
	  Add a preference item so that fonts will be automagically compacted when
	  they are opened.
	<LI>
	  Add a new preference item (SeekCharacter) to allow users to control which
	  character will be displayed when opening a new font. Normally FontForge displays
	  'A', but that's a bit latin-alphabet-centric.
	<LI>
	  If palettes were not docked, the a complicated series of events could lead
	  to a crash after closing a TilePath (Math kerning, Gradient Fill, etc.) dialog.
	<LI>
	  Was not outputting the %%LanguageLevel DSC comment.
	<LI>
	  Generating a CID-keyed otf font was broken by the layers patch. (Only the
	  background layer was output).
	<LI>
	  Encoding-&gt;Add Encoding Slots didn't work for CID-keyed fonts.
	<LI>
	  Autoinstructor does more consistent vertical stem placement for mono and
	  grayscale. Advance width scales much better. One downside: letters tend to
	  'glue' at small ppems.
	<LI>
	  When FF read in a pairwise positioning lookup with no change to the pos of
	  the first glyph, and an x change to the second glyph it treated that as a
	  r2l kern pair even if the lookup was l2r. This lead to problems.
	<LI>
	  In the Print/Display window all vertical GPOS positioning was diametrically
	  opposed to the direction it should have gone (there was a sign error).
	<LI>
	  Print managed to break itself somehow. Print of a font display to ps file
	  (or was it pdf) didn't work. Type3 pdf fonts were broken, last glyph omitted.
	<LI>
	  In the fontview the horizontal advance and baseline metrics lines were drawn
	  as if bitmap magnification were 1 (so if bitmap mag&gt;1 they were in the
	  wrong place).
	<LI>
	  In the char view, when the active tool is the scale tool, show the scale
	  factors on the info line.
	<LI>
	  The default set for control points of a corner point before/after an hv curve
	  point was to have no control point. Make it be the same as a normal curve.
	<LI>
	  layers patch broke type3 editing in that: in a type3 font glyphs don't have
	  the same number of layers so it is possible to move from one glyph to another
	  in the char view and have the current layer become invalid.
      </UL>
    <LI>
      9-Mar-2008
      <UL>
	<LI>
	  Undefined value in the martlett patch.
	<LI>
	  A variable was placed on the stack in font info which needed a longer lifetime.
	  This would probably mean that after several remetrickings of that window
	  the jump to OS/2 Unicode ranges in the Unicode ranges pane would appear in
	  a strange color and oddly shaped. I never saw it happen, but it should have.
	  The variable is now static.
	<LI>
	  When ff read in a contextual subs by glyphs it would reorder each glyph list
	  (backtrack, lookahead and normal) so that the glyphs were in GID order. So
	  "a b c" would probably come out fine in the lookahead list, but would be
	  reversed in the backtrack, while "c b a" would be reversed in the lookahead).
	  Ug.
	<LI>
	  The code which decided on whether to apply a chaining lookup approached backtrack
	  data in the wrong order (so only lookups with either 0 or 1 backtrack entries
	  worked. Which was all I used to test).
	<LI>
	  New fonts were created with relative filenames, this screwed up some font
	  searches. Make 'em absolute.
	<LI>
	  Deleting something in the guidelines layer probably caused a crash.
      </UL>
    <LI>
      2-Mar-2008
      <UL>
	<LI>
	  <B><BIG>Layers</BIG></B>
	  <P>
	  The big change in this release is that every font database can now contain
	  multiple layers. Before this all layers in a font used the same type of splines
	  and there were only 2 or 3 of them.
	  <UL>
	    <LI>
	      Guideline semi-layer -- where all the glyphs of the font shared the same
	      set of outlines, to which points would snap if desired.
	    <LI>
	      A background layer -- which could contain outlines and also images which
	      could be autotraced into the foreground layer.
	    <LI>
	      A foreground layer -- which was what the font really looked like, and what
	      went into generated fonts
	  </UL>
	  <P>
	  Now there may be any number of layers, and each layer can contain different
	  types of splines -- so one database can contain both quadratic and cubic
	  data and can store data for both PostScript and TrueType fonts.
	  <P>
	  In a normal font all glyphs have the same number of layers (this is not true
	  in a type3 font, which each glyph may have it's own set of layers). You may
	  set the number, names and types of layers width the <CODE>Element-&gt;Font
	  Info-&gt;Layers</CODE> pane.
	  <P>
	  In the font view you can select which layer is active (and displayed) with
	  the <CODE>View-&gt;Layers</CODE> menu item. You can copy selected glyphs
	  of one layer to another (automagically adjusting the spline type if needed)
	  with <CODE>Edit-&gt;Copy Layer To Layer</CODE>. You can compare to layers
	  for differences with <CODE>Element-&gt;Compare Layers...</CODE>.
	  <P>
	  In the character view the Layers palette has changed. The things which controlled
	  the visibility of hints have moved to the <CODE>View-&gt;Show</CODE> menu
	  (as have some other entries that used to be in the top level
	  <CODE>View</CODE> menu). The layers palette solely displays the glyph's layers
	  and controls which layer is active.
	  <P>
	  The <CODE>File-&gt;Generate Fonts...</CODE> dialog allows you to specify
	  which layer is to go into the font. Note that many things remain common:
	  the hints and truetype instructions apply to all layers. GPOS, GSUB, kern,
	  and morx information is common all layers. The outlines may differ in detail,
	  but outlines from which a font will be generated should have the same shape.
	  <P>
	  Add new python stuff to handle layers:
	  <DL>
	    <DT>
	      fontforge.activeLayer()
	    <DD>
	      Returns the currently active layer
	    <DT>
	      font.layer_cnt
	    <DD>
	      Returns the number of layers in the font
	    <DT>
	      font.layers
	    <DD>
	      A dictionary like object which can be indexed either by an integer between
	      0 (inclusive) and layer_cnt (exclusive) or by the name of a layer. After
	      indexing it returns a LayerInfo object. LayerInfo objects have no independant
	      existance, and contain a layer's name and a boolean indicating whether the
	      layer is_quadratic.
	      <BLOCKQUOTE>
		<PRE>font.layers[1].name = "Foreground"
font.layers[0].is_quadratic = TRUE
</PRE>
	      </BLOCKQUOTE>
	      <DL>
		<DT>
		  You may delete a layer
		<DD>
		  <CODE>del font.layers["Extra layer"]</CODE>
		<DT>
		  You may add a new layer
		<DD>
		  <CODE>font.layers.add("name",is_quadratic)</CODE>
	      </DL>
	      <P>
	      (this object has an iterator which returns the names of all layers)
	    <DT>
	      glyph.layer_cnt
	    <DD>
	      Returns the number of layers in the glyph (this is the same as the number
	      in the font, except for type3 fonts).
	    <DT>
	      glyph.layers
	    <DD>
	      Returns a dictionary like object which may be indexed by layer name or an
	      integer [0,layer_cnt) as above. The result is a standard layer object. (this
	      object has an iterator which returns the names of all layers)
	    <DT>
	      glyph.reflayers
	    <DD>
	      Returns a dictionary like object which may be indexed by layer name or an
	      integer [0,layer_cnt) as above. The result is a standard list of references.
	      (this object has an iterator which returns the names of all layers)
	    <DT>
	      layer.export
	    <DD>
	      It is now possible to export the contours of a layer (before only glyphs
	      could be exported)
	    <DT>
	      glyph.export
	    <DD>
	      Slight change to the semantics. When outputting an outline file, there is
	      now an optional second argument which specifies the layer to output. (again
	      integer or layer name).
	    <DT>
	      font.generate
	    <DD>
	      Has a new keyword argument "layer" to specify which layer should be output.
	  </DL>
	<LI>
	  M.P. Suzuki requests a way to load the entire 'glyf' table of a ttc. Actually
	  he would like to load all 'glyf' tables of a ttc, but that would cause all
	  kinds of problems (multiple fpgm, prep, maxp, cvt tables, trying to fix up
	  GIDs in GPOS/GSUB/kern/* tables, dealing with fonts with so many glyphs they
	  could not be generated, ...)
	  <P>
	  So the command line now takes an --allglyphs argument, and the scripting
	  open commands now take a value of 4 for the openflags argument to mean this.
	<LI>
	  Add a command Points-&gt;Make Arc, which is similar to Points-&gt;Make Line
	  except that it connects the two points with an elliptical arc rather than
	  a straight line. The ellipse is choosen to run through the two points (obviously)
	  and to be tangent to the slope of those points. This isn't enough information
	  to determine an ellipse uniquely (three points and two tangents being required)
	  so in general there will be an infinite number of solutions (and it is possible
	  to provide contradictory input so that no ellipse can be found). FontForge
	  may not choose the ellipse you had your heart set on. FF will first attempt
	  to find an ellipse so that one of the points lies on an axis of the ellipse
	  (this will find a circle if there is a circle which satisfies the constraints
	  above). If that fails it will look more generally for ellipses.
	  <P>
	  (If you hold down the &lt;Alt&gt; key when you select the menu item, FF will
	  leave the ellipse it calculated in the background layer. That was a debugging
	  technique but I thought it was kind of interesting and left it in.)
	<LI>
	  Further improvements in calculating active zones for curved segments for
	  autohinging: if the spline is closer to the opposed stem edge at the given
	  point, don't extend the active zone any longer.
	  <P>
	  If a line's unit vector is close enough to the font's italic slant, then
	  prefer the unit vector based on the italic slant instead.
	  <P>
	  Added an experimental mode which allows to build glyph data based on a
	  preexisting hint layout and extend it with additional stems.
	<LI>
	  The rotate tool in char view didn't show the angle of rotation.
	<LI>
	  Fixed various uninitialized values
	<LI>
	  Make sure the first character in marlett is 0xf020.
	<LI>
	  Reinstate the behavior of the symbol encoding that the wine developers depend
	  on.
	<LI>
	  Add a scripting flag so that script writers can control whether a font has
	  a symbol encoding without having to use a funky extension. (Wine people don't
	  like having to say ".sym.ttf").
	<LI>
	  When building a ligature, ff would mark the first letter with use_my_metrics.
	  That should only happen when building accented glyphs.
	<LI>
	  Put in a way for the user to leap easily from Font Info-&gt;Unicode Ranges
	  to Font Info-&gt;OS/2-&gt;Charsets-&gt;Unicode Ranges.
	<LI>
	  python scripting font.sfnt_names would sometimes crash.
	<LI>
	  When a matrixedit is initialized its last visible column (especially if followed
	  by hidden columns) may not be at the edge of the matrixedit. This lead to
	  drawing spurious lines which annoyed Alexej.
	<LI>
	  When running simplify on a quadratic contour and the contour doubles back
	  on itself, FF would do an optimization which only worked for cubics.
	<LI>
	  Werner tells me that if bit 1 of the 'head'.flags field is clear then I should
	  adjust so that the left side bearing is what is specified in the 'hmtx' table.
	<LI>
	  Pdf filter decode didn't work if given an array of filters (not even in the
	  array contain only a single filter).
	<LI>
	  FontForge doesn't support pdf encryption which seems to require a license
	  from RSA. Before we'd just announce failure for no reason, now announce that
	  the file is encrypted and we can't read it.
	<LI>
	  Improper test for point matching in references (in tt).
	<LI>
	  In an un instructed font, the [Default] button in FontInfo-&gt;Grid Fitting
	  produces the wrong result (and has since I added support for the new gasp
	  features of ClearType.
	<LI>
	  Doing hint modifications caused errant pointers to be used. Often crashing.
	<LI>
	  Math strings weren't getting initialized in math kern.
	<LI>
	  One of the math constants had the wrong friendly name.
	<LI>
	  Michal points out that tooltips in the math window don't get translated.
	<LI>
	  TopLeft/TopRight etc. in math kerning weren't translated.
	<LI>
	  The transform menu item seems to have lost its shortcut. Put it back.
	<LI>
	  When selecting a control point in the outline view, we would always select
	  the next point if both next and prev were in the same place (ie, on the base
	  point itself). But when the point is at the end of an open contour, the one
	  which should be selected is the one which controls a spline (which need not
	  be the next one).
	<LI>
	  Oh dear. My original method for storing background layers didn't allow for
	  references (because I didn't put them in the background). But I need them
	  now.
	<LI>
	  Label some of the horizontal metrics lines
	<LI>
	  Trying to move the top accent line resulted in a crash.
	<LI>
	  Drat. FF really wants to set the latin1 codepage bit, even if the user explicitly
	  provides the codepage settings. The wine people don't like that.
	<LI>
	  If we have two fonts open, a type3 (multilayered) one and a normal outline,
	  and we have outline glyph windows open from each font, and we move the focus
	  between the glyph windows, then the layers palette will get left behind when
	  focus moves to the other font. (and other more complex senarios when switching
	  between multilayered and outline).
	<LI>
	  When loading a feature file, ff would complain if a mark appeared in two
	  anchor classes -- even if those classes were in separate lookups. This meant
	  it got unhappy about a mark which was in both a mark 2 mark lookup and in
	  a mark to base lookup.
	<LI>
	  I had intended not to give warning messages about names like "nine.oldstyle"
	  (defined in Adobe's obsolete PUA mapping) when loading a tt font, if such
	  a glyph had a different unicode mapping (or none) than the one Adobe used
	  ages ago. But I screwed up and was generating messages anyway.
	<LI>
	  When converting cubics to quadratics, if we had a curved spline where one
	  of the endpoints of the spline had no control point, then we'd get a slope
	  at that point of 0/0. This meant that we tried to put a quadratic control
	  point on top of that endpoint which looked confusing and seemed unnecessary.
	<LI>
	  Typo in glyph compare. Caused another crash when comparing lookups.
	<LI>
	  Didn't handle NULL tokens properly when reading in a feature file.
	<LI>
	  Make it easier to select control points when the alt key is down.
	<LI>
	  Add a mechanism for getting default values for private dict entries in python
	  scripts.
	  <P>
	  (Also provide default values now when [Add]ing private entries in Font Info.
	<LI>
	  Making class0 editable broke the ability to create a context chaining class
	  lookup.
	<LI>
	  The encapsulation for creating libfontforge broke importing a lookup from
	  one font to another.
	<LI>
	  Feature file generation omitted a semicolon after (some) contextual lookup
	  rules.
	<LI>
	  Nasty bug with references in ApplySubstitutions scripting command.
	<LI>
	  Mark classes didn't work.
	<LI>
	  Michal N. points out that "Really Use Typo Metrics" should be moved above
	  the typo metrics (or below) but should not be in the middle of them.
	  <P>
	  He also tells me that the internationalized weight classes don't get parsed
	  properly.
	<LI>
	  Someone handed me a font with a SJIS encoding cmap. The cmap mapped a glyph
	  to SJIS 128, which isn't a valid SJIS code point. FF got an insane result
	  when trying to convert to unicode and crashed. Add a check against bad code
	  points.
	<LI>
	  Add two proposed features from the pre-draft of OT 1.6
	  <UL>
	    <LI>
	      Drop Caps
	    <LI>
	      Character Variants 00-99
	  </UL>
	<LI>
	  Werner wants to be able to select text in the warnings window to paste elsewhere.
	  And he points out some scrolling flaws as well.
	<LI>
	  Could not attach lookups to mac feature settings.
	<LI>
	  Clean up some display problems in the type3 layers palette and layer info
	  dlg.
      </UL>
    <LI>
      3-Feb-2008
      <UL>
	<LI>
	  New Vietnamese translation from Clytie
	<LI>
	  New Russian translation from Alexandre Prokoudne.
	<LI>
	  New Polish translation from Michal N. .
	<LI>
	  FF could crash if a cmap subtable contained invalid encoding points.
	<LI>
	  Add various new features/scripts/language tags from OpenType draft 1.5.
	<LI>
	  Add two proposed features from the pre-draft of OT 1.6
	  <UL>
	    <LI>
	      Drop Caps
	    <LI>
	      Character Variants 00-99
	  </UL>
	<LI>
	  The warnings window didn't resize properly. It didn't let you copy text (ie.
	  a warning) It didn't enough. It should have scrolled with keypad keys (arrows,
	  page up/down, etc). There should be a way to clear the windows so you know
	  that all the warnings are from a given operation. Added a popup menu.
	<LI>
	  Fixed a problem in the auto hinter.
	<LI>
	  Could not attach lookups to mac feature settings.
	<LI>
	  Clean up some display problems in the type3 layers palette and layer info
	  dlg.
	<LI>
	  Autoinstructor: turned on strong point interpolation:
	  <UL>
	    <LI>
	      Various important outline points are correctly placed between hints' edges.
	    <LI>
	      Potential benefits for DStem positioning.
	    <LI>
	      Drawbacks: 2x slower, code generated is now much bigger.
	  </UL>
	<LI>
	  The merge (and simplify) command could produce odd results if the points
	  surrounding the merge had no control points.
	<LI>
	  Extend find/replace to handle changing angles.
	<LI>
	  The Display/Print dlg would crash when the user pressed the reset button
	  if there were at least two pointsizes of the font on display. Perhaps in
	  other cases too.
	<LI>
	  Make shift click in the lookup dialog (but not the subtable part) select
	  all lookups between current click and a previously selected point.
	<LI>
	  glyph.addPosSub doesn't work for ligatures or multiple substitutions. It
	  treats both as alternate substitutions.
	<LI>
	  Michal Now. points out that there are some strings not marked for translation
	  in cvruler.c.
	<LI>
	  FontForge never checked that fonts had fewer than 65536 glyphs. I just blythely
	  assumed I wouldn't have to worry. Well someone handed me a font with 65731
	  glyphs, and FF treated it as having 195 glyphs. Things got nasty after the
	  196th.
	<LI>
	  Fix a crash in autohint.c and an infinite loop in stemdb.c.
	<LI>
	  Font Compare would crash if one font had a lookup subtable which was not
	  in the other.
	<LI>
	  Improve the algorithm used to detect reference points for stem edges. Enable
	  snapping "corner extrema" to predefined hints.
	<LI>
	  Remove the obsolete Private Dict to CVT table command.
	<LI>
	  Michal Now. wants short cuts to change grid fit attributes, so a new sub
	  menu with things like increase point size, change AA, etc. (with shortcuts,
	  of course).
	<LI>
	  Patch by Michal Nowakowski. In Show Grid fit not setting the mono bit correctly
	  in freetype.
	<LI>
	  Bug in pfm file output.
	<LI>
	  If we failed to open a plugin library during init, it would call LogError
	  before the display was initialized, leading to a crash.
	<LI>
	  Autoinstructor: If a horizontal stem interpolated between blue zones was
	  very close to one of them, it often jumped beyond that zone in small ppems.
	  This was especcially annoying for serif fonts.
	<LI>
	  Improvements (I hope) to the ruler tool
	  <OL>
	    <LI>
	      Make it snap to splines (in addition to points)
	    <LI>
	      Have it draw a line from the start point to the mouse
	    <LI>
	      If they start on a spline, then include info on the offset in coordinates
	      parallel to the spline and normal to it.
	    <LI>
	      Provide a "spline length" if the start and end points are on the same spline
	      (instead of just if they were the end-points of the spline).
	  </OL>
	<LI>
	  In python scripting contour.reverseDirection only worked on closed contours.
	<LI>
	  If you click wildly in the cvt editor it would eventually go into infinite
	  recursion.
	<LI>
	  If there were no free anchor class then attempting to add an anchor point
	  would pop up the Mark Classes pane of Font Info (rather than Lookups). This
	  is sufficiently close to Anchor Class as to be very confusing.
	<LI>
	  Make label gadgets (and buttons which are also labels) handle multiline text.
	<LI>
	  If the user closes the font info dlg when there are mark class dialogs floating
	  around then close them too (there was code which was supposed to do this,
	  but it didn't work).
	<LI>
	  Try to make it clear in the Mark Classes pane of the Font Info that mark
	  classes are not anchor classes. Someone got confused...
	<LI>
	  Fix some bugs in parsing mark anchors in feature files.
	<LI>
	  When adding an hvcurve point into an existing spline it behaved like a curved
	  point and laid parallel to the spline rather than being either horiz or vert.
	<LI>
	  FontForge uses floats (which have ~24 bits of precision internally) to represent
	  coordinates. Type2 fonts use a 16.16 fixed notation, which means that we
	  only represent coordinates &lt;256 accurately. This will cause slight errors
	  during output and input of a font. Unfortunately, due to the rel-rel nature
	  of postscript these slight errors accumulate.
	  <P>
	  So instead, when loading and saving a Type2 font use double precision
	  temporaries. This should mean there will be no errors to accumulate. There
	  will be slight errors when converted to SplinePoints, but these errors will
	  not accumulate.
	<LI>
	  Check several adjacent splines when detecting active zones for curved segments
	  and thus make the algorithm less dependent from the number of additional
	  points on a contour and their exact positions.
	<LI>
	  Fix a number of problems that -pedantic complains about.
	<LI>
	  Some mnemonics in the Element menu are used for two items. Clean it up a
	  bit.
	<LI>
	  Add a "Find Problems" for non integral coordinates.
	  <P>
	  Change the "Ref with bad ttf transformation" so that it checks for integral
	  coordinates too.
	<LI>
	  the glyph.validate function in python was marked as taking NOARGS in the
	  method table, but, in fact, does take arguments.
	<LI>
	  Oops. Validate used to complain if the StemSnap[HV] array were missing. But
	  that's perfectly ok.
	<LI>
	  Be more lenient when closing a path (when reading in a type1/2 font)... we
	  can get rounding errors.
	<LI>
	  Add a little LogError to let the user know if there are sfnt tables we ignore.
	<LI>
	  Deep in the heart of Find Problems check for bad contour direction, was a
	  bug where it looked at the wrong spline.
	<LI>
	  Just as it is possible to have things in 'morx' that are not in 'GSUB', it
	  is possible that a 'GPOS' table contains no kerning information but a 'kern'
	  table does. We used not to read 'kern' if we had 'GPOS', be a little subtler
	  and check for the presence of a 'kern' feature inside 'GPOS' before deciding
	  whether to read the 'kern' table.
	<LI>
	  The anchor control dialog didn't work for mark to mark anchors when looking
	  at a base mark.
	<LI>
	  When a font contained glyphs with multiple encodings, then ff would produce
	  bdf files with a char count which matched the # glyphs, not the number of
	  encoding slots used.
	<LI>
	  In a compacted cid font, the status line (containing unicode, unicode block/name,
	  etc) was junk.
	<LI>
	  Barry wants to be able to mark that it's ok for a spline to have intermediate
	  extrema.
	<LI>
	  The []TeX Table checkbox was always disabled in the save font dlg.
	<LI>
	  The DejaVu people want to be able to associate a comment with a cvt entry.
	<LI>
	  Find Problems-&gt;ATT-&gt;Missing glyph name complains about the special
	  string &lt;Delete&gt; which I used in Apple lookups to represent the "Delete
	  Glyph" action that apple supports and OT does not. Don't complain about this
	  any more.
	  <P>
	  Add a problem which will look at the glyphs a lookup is active for, and then
	  checks the script of each glyph against the scripts attached to the features
	  which invoke this lookup. If the script doesn't match anything, then complain.
	<LI>
	  If a font contained an empty anchor class (having either no base glyphs or
	  no mark glyphs) then when dumping out the font subsequent anchor classes
	  got the wrong data associated with them.
	<LI>
	  Barry wants non-integral hints.
	<LI>
	  Barry points out that Scale To Em doesn't scale the guidelines.
	  <P>
	  Barry also complains that spiro points are rounded. This is more debatable.
	  The bezier conversion will put bezier points where there were spiros, so
	  if we don't round the spiros we get non-integral points. But if we do round
	  the spiros we mess up the splines. Hmm.
	<LI>
	  When complaining about a bad class in a mark (GPOS) sub-table, specify the
	  name of the offending mark if we can.
      </UL>
    <LI>
      10-Jan-2008
      <UL>
	<LI>
	  Fixed a crash bug in Auto Hint
	<LI>
	  Replaced the Short Cut to AutoInstr
	<LI>
	  In Font Info-&gt;Lookups, added to the lookup tooltip to show what contextual
	  lookups used the current one.
      </UL>
    <LI>
      9-Jan-2008
      <UL>
	<LI>
	  Fix some problems with AAT. Mutually exclusive features in the chain didn't
	  get the right OffFlags set. (and didn't work).
	<LI>
	  Add DHint support for native &amp; python scripts. Prevent users from specifying
	  incorrect unit vectors for diagonal hints added via scripts. Also use stemdb.c
	  to calculate active zones for normal (horizontal and vertical) hints added
	  via scripts.
	<LI>
	  Remove my original (and not very good) auto instructor. Clean up the docs
	  to remove references to how bad it was.
	<LI>
	  Add the ability to store a fontlog in the sfd file. Available to python
	  scripting. A way to save it to FontLog.txt when generating a font. A way
	  to modify it before generating. Normal access through Font Info.
	<LI>
	  Change the PfEd table so that the font comment is in utf8, and the glyph
	  comment subtable too.
	  <P>
	  Add subtables to hold:
	  <UL>
	    <LI>
	      Names of lookups and lookup subtables and anchor classes
	    <LI>
	      Guide lines
	    <LI>
	      Background and spiro layers
	    <LI>
	      Font Log
	  </UL>
	<LI>
	  It used to be that when a font had both 'mor[tx]' and 'GSUB' we would only
	  read 'GSUB'. But Michel Boyer wanted to read both. So... read 'morx' after
	  'GSUB' and if we find a feature/setting that looks as though it corresponds
	  to an existing OpenType lookup (which we can convert to a Mac format) then
	  skip that feature/setting, presuming it to contain redundant data.
	  <P>
	  This is a finer grain approach, but similar to, the previous one. There we
	  skipped the whole table, presuming it redundant. But in CharisSIL the morx
	  table has a lot of functionality orthogonal to GSUB. So we must parse both.
	<LI>
	  The 'feat' table was being output in the wrong order. Features were linked
	  together in several ways and 'feat' followed the wrong field.
	<LI>
	  Two related bugs that Charis SIL invokes:
	  <OL>
	    <LI>
	      This font has a contextual substitution which uses class 0 and replaces it
	      via a nested lookup. But my feature file output could not handle class 0
	      (since it isn't really specified) and would crash.
	    <LI>
	      However, in this case class 0 was specified by the coverage table (we fixed
	      that earlier but just for kerning classes). So now fix for contextuals.
	  </OL>
	<LI>
	  Auto recovery was broken. Ever since I put in the code to ask the user what
	  to do with a recovery file (It always recovered into a new file).
	<LI>
	  When FF opens a char window on my screen it has a bad habit of opening it
	  at 40% magnification. Which means mouse clicks give things either at em or
	  at half me positions. That's bad. Don't want the default behavior to create
	  lots of .5 coordinate values.
	  <P>
	  Make the window open at 33% instead.
	<LI>
	  FontForge warns the user when a glyph's name does not match its unicode encoding.
	  But in the past it would do this for glyphs with multiple encodings even
	  if the name matched one of the encodings. Fix that.
	<LI>
	  When FF uses doubles internally, it still outputs float precision into the
	  sfd file. Fix that.
	<LI>
	  Still said "Tangent" rather than "Constraint" in points menu when in Spiro
	  mode.
	<LI>
	  Ben Laenen of Deja Vu says it would be nice if sfd files stored truetype
	  instructions as recognizable text rather that squirrily ASCII85 encoded binary
	  data. Sounds reasonable. Might as well store 'cvt ' and 'maxp' as numbers
	  then.
	<LI>
	  Remove some deprecated DStem code. Also move CVNumForePointsSelected() to
	  charview.c and make it static (not used anywhere else except that file).
	<LI>
	  Sometimes the pointers to libspiro didn't get initialized.
	<LI>
	  If a font had no private dica and one tried to put something in it from python,
	  ff would crash.
	<LI>
	  Alexej points out that my use of iconv was broken on many systems where UCS-4
	  is big endian on a little-endian machine.
	<LI>
	  Use freetype to rasterize the fill blit in the char view.
	<LI>
	  - In search_edge, an array subscript was sometimes -1?
	  <P>
	  - Previously I forgot to mention Alexey's changes in DStems hinting code.
	<LI>
	  Simple optimization for blue zone hinting - cupped serifs should benefit
	  most.
	<LI>
	  Update copyright notices. (add 2008)
	<LI>
	  Oops, typo in python menu code.
	<LI>
	  There is now an incomplete fontforge which uses the gtk toolkit.
	  <BLOCKQUOTE>
	    <PRE>$ ./configure
$ make
$ make install
$ make fontforgegtk
$ make install_gtk
</PRE>
	  </BLOCKQUOTE>
	  <P>
	  About all it can do is open a font and display it. If a menu command does
	  not require a dialog then it might work. There are probably scores of bugs
	  even in the little bit that supposedly does work.
	  <P>
	  I think the open dialog is extremely ugly. That's not my fault, that's gtk's
	  widget. The open dialog is far less functional than the one in the gdraw
	  fontforge -- I can't figure out how to enhance it.
	<LI>
	  Switching to a new internal representation of diagonal stem hints.
	<LI>
	  Add a mechanism to check that the executable has been configured to match
	  the library. And include a library date stamp as well as an executable stamp.
	<LI>
	  In the metrics view, if I switch from outline view to bitmap view (by selecting
	  a strike by pixel size from the view menu) then ff would crash.
	<LI>
	  Cleanup the library executable interface a bit more.
	<LI>
	  Minor tweaks to fontview.
	<LI>
	  - Alexey suggested improvement for HStemGeninst().
	<LI>
	  - Added optional experimental code for interpolating strong points.
	<LI>
	  Barry Schwartz wants to be able to set the "don't autohint flag" from python.
	  I'm calling it "manualHints" though.
	<LI>
	  Barry Schwartz points out that the simplify flag "setstarttoextremum" is
	  incorrectly documented. Fix that.
	<LI>
	  - In HStemGeninst(), new positioning method gives bizarre results for overlapping
	  stems. Added fallback to old method.
	<LI>
	  Make it obvious that the Print/Display dlg HAS a menu.
	<LI>
	  Crossland wants a way to insert random text into the Print/Display dialog.
	  So add the ability to generate a bunch of random words that look vaguely
	  reasonable. (Invoked by the popup menu in the dlg).
	<LI>
	  Exporting spiros to a plate file produced garbage if any spiros were selected.
	<LI>
	  The Print dlg tended to crash if you did much editing in it.
	<LI>
	  When switching to spiro mode on an empty glyph (or perhaps the first glyph
	  in a new font), FF would complain: Internal Error: Character out of bounds
	  in bitmap font 0&gt;=0
	<LI>
	  Oof. The math stuff doesn't work if device tables are disabled. fix it.
	<LI>
	  Fix some problems with configuration modes I don't use. Correct some pointer
	  arguments which differ in signedness.
	<LI>
	  If lines are attached to both sides of a diagonal stem, then prefer the longer
	  line's unit vector for this stem.
	<LI>
	  - Fixed snap_to_blues(): it used to mess global accuracy setting up.
	<LI>
	  - Fixed finish_stem(): it did not mark edges of previous hints as done.
	<LI>
	  - CHanged HStemGeninst(): it now tries to interpolate HStems within blues
	  when possible.
	<LI>
	  Dave Crossland points out that ff didn't compile if --without-native-script
	  were set.
	<LI>
	  Trying to change control points with the point info dlg on hv-curve points
	  didn't work.
	<LI>
	  Add the ability to insert a list of words into the metrics view.
      </UL>
    <LI>
      10-Dec-2007
      <UL>
	<LI>
	  Redo the internals of fontforge to separate the core font engine from its
	  dependance on gdraw, and stuff all of that into libfontforge. So libfontforge
	  no longer needs gdraw, and can be used to build another user interface with
	  a different widget set.
	  <P>
	  In theory.
	<LI>
	  Add the ability to insert a list of words into the metrics view.
	<LI>
	  If a font has a variant selector 'cmap' subtable, and has some unnamed glyphs
	  then base names on the information found in the vs subtable as: (u0020.vsFE00)
	<LI>
	  If a font has a 'MATH' table and some unnamed glyphs then try to guess names
	  for glyphs refered to in horizontal/vertical glyph construction tables.
	<LI>
	  When outputing horizontal glyph variants in the 'MATH' table I used their
	  vertical size rather than their horizontal size.
	<LI>
	  Further refinements to the concept of lines: all points assigned to the same
	  line now should have filled space at the same side. So what we used to call
	  lines would be better called edges now. Also the handling of bounding box
	  hints has been improved: all relevant points are now assigned to a BBox stem
	  hint (not just one point from each side).
	<LI>
	  Add a user interface to control file recovery (used to be only a command
	  line argument).
	<LI>
	  Patch by Barry who points out an extraneous line in the font iter by search.
	<LI>
	  Barry points out that there is a disconnect between the docs and the program
	  about the "spiros" member of a Contour python object. So correct the docs
	  to read "spiros", and change the program so it will accept "spiro" as well
	  as "spiros".
	<LI>
	  Add the ability to name contours, primarily for guidelines.
	  <P>
	  Add python support for the contour_name.
	<LI>
	  Add support for reading Apple's old sfnt wrapped CID format (basically the
	  same as the sfnt wrapped 'typ1' format.
	<LI>
	  FF crashed on Nastaliq Navees from SIL.
	  <OL>
	    <LI>
	      It has no unicode cmap (which ff handled incorrectly)
	    <LI>
	      It has cross-kerning (which ff doesn't handle, but still died while explaining
	      that it didn't handle it)
	  </OL>
	<LI>
	  Use routines from stemdb.c to generate active zones (or stem instances) for
	  manually added hints. The old algorithm is still used when reading Type 1/OTF
	  font files.
	<LI>
	  FontView -&gt; Hints-&gt;Clear hints did not set the hints changed bit.
	<LI>
	  Erik van Blockland points out that python glyph.addPosSub doesn't check for
	  duplicate entries and will blindly add something when it should be replacing
	  it.
	<LI>
	  Also added a short cut so that it is posible to specify simple kerning by
	  typing one number rather than requiring an additional 7 zeroes.
	<LI>
	  Prevent some redundant stem chunks from being generated.
	<LI>
	  Both Adobe Acrobat and Apple's Preview exhibit what I consider to be a bug.
	  According to the PDF reference manual, if an Encoding dictionary is not specified
	  for a font object then the built in encoding will be used. But both these
	  programs reencode to AdobeStandard and do not use the font's built in encoding.
	  GhostScript agrees with my interpretation and does not reencode.
	  <P>
	  However, they ain't gwana change, so I must. Always dump out an Encoding
	  dictionary even when it shouldn't be needed.
	<LI>
	  <UL>
	    <LI>
	      Lines are more actively used: stems now have 'leftline' and 'rightline'
	      properties, and for diagonal stems the stem unit vector is always set equal
	      to the unit vector of the line corresponding to the left edge of the given
	      stem;
	    <LI>
	      I no longer attempt to calculate "active" zones for bounding box hints (they
	      usually don't correspond to any actual glyph features and thus look ugly).
	      So now only edges of such hints (without any active zones) are displayed
	      in the charview;
	    <LI>
	      diagonal stem detection improved (some checks were too strict and actually
	      oriented to HV stems);
	    <LI>
	      the 'blue' property is now used not only for ghost hints, but also for regular
	      horizontal stems. This may be useful if I ever implement an autoinstructor
	      based directly on the stem detector;
	    <LI>
	      glyph data initialization has been separated from stem detection and put
	      into a separate routine (a first step for unification of algorithms used
	      to calculate stem active zones).
	  </UL>
	<LI>
	  When doing a print sample to pdf, the second page came out in times bold
	  rather than the user's font.
	<LI>
	  I think setting a compact encoding could overflow an allocated string array.
	<LI>
	  I was setting the Regular bit of OS2.fsSelection if the weight class was
	  400. I probably should have used 500 instead. Or maybe both. Let's try both
	  for now.
	<LI>
	  If a ufo font did not have a lib.plist file (and python was enabled) then
	  ff would crash on loading it.
	<LI>
	  When importing an eps file, ff did not turn off the "Bitmap-only" flag. This
	  means that new fonts composed entirely of eps files would be treated as bitmap
	  fonts (sometimes).
	<LI>
	  Moving quadratic control points with the pointer is broken (again).
	<LI>
	  Metricsview would crash if you deleted a character and then clicked in one
	  of it's textfields.
	<LI>
	  Fix typo in stemdb.c
	<LI>
	  Add a Select-&gt;Open Contours command.
	<LI>
	  Add some serbian text (to the built in print samples).
	<LI>
	  Update the location on the charview info line when dragging out a guideline.
	<LI>
	  If a glyph had a unicode encoding for one code point, and a name which mapped
	  to another, then double clicking on the other code point would cause fontforge
	  to provide a reference to the base glyphs from the new encoding slot. But
	  only in the current encoding map. In other words I forgot to set the AltUni
	  field.
	<LI>
	  Some people have though winDescent should be a negative value for things
	  below the baseline. So make the sign of the various descent fields explicit
	  in the corresponding popup messages.
	  <UL>
	    <LI>
	      Typo Descent: Negative
	    <LI>
	      Win Descent: Positive
	    <LI>
	      Hhea Descent: Negative
	  </UL>
	<LI>
	  If a user edited a glyph in spiro mode, and then did something in the fontview
	  ehich caused the spiros to be removed (Lots of things: Overlap, Expand Stroke,
	  Embolden, ...), and then did a Round to Int (and perhaps other things) from
	  the font view, then FontForge would crash.
	  <P>
	  It expected to find spiros in a glyph marked as being edited in spiro mode,
	  and was surprised when none were available.
	<LI>
	  Dave Crossland doesn't like having "..." at the end of window titles.
	<LI>
	  Back out the Add Extrema in spiro mode patch. Turn off display of extrema
	  in spiro mode (and of Points of Inflection too).
	<LI>
	  Add an autowidth command to the python interface.
	<LI>
	  contour.lineTo and friends didn't work (didn't increment the contour's point
	  count).
	<LI>
	  With SnapToInt preference on, and at high magnifications, a mouse click would
	  often be snapped so that it was well outside the fudge region. This meant
	  that clicking on something might not select it.
      </UL>
    <LI>
      10-Nov-2007
      <UL>
	<LI>
	  Another bug when loading feature files
      </UL>
    <LI>
      9-Nov-2007
      <UL>
	<LI>
	  Introduced Raph Levien's Spiro curves. Please
	  <A href="http://libspiro.sf.net">download <B>libspiro</B></A> before using
	  fontforge.
	<LI>
	  Deal with things that got deprecated as the mac moved from 10.4 to 10.5
	  <UL>
	    <LI>
	      NSAddImage and family have been replaced by dlopen
	    <LI>
	      the old mechanism for referencing a resource fork from POSIX "foo/rsrc" has
	      changed to "foo/..namedfork/rsrc".
	  </UL>
	  <P>
	  The new stuff all worked as far back as 10.3 -- but FontForge source is no
	  longer compatible with 10.2.
	<LI>
	  In a truetype font, if a substitution lead to an unencoded glyph and the
	  cursor hung over the substitution long enough to invoke the popup, then we'd
	  generate a tiny font containing just the unencoded glyph, we'd complain that
	  there were no encoded glyphs, we'd dismiss the popup, we'd generate the glyph
	  image, then we'd try to free it with no free function because the popup was
	  dismissed.
	<LI>
	  Merge Feature File didn't actually merge things in, it forgot about existing
	  things -- which caused problems for kerning classes which get stored in two
	  lists.
	<LI>
	  Allow people to order entries in the PostScript Private dictionary (in Font
	  Info)
	<LI>
	  Give the user control over how much arrow keys accelerate when holding down
	  the Alt (Meta) key.
	<LI>
	  People want a Snap To Int preference item.
	<LI>
	  Simplify sometimes ignored points.
	<LI>
	  People expect to be able to drag guidelines from the rulers (because everyone
	  else does that) and don't want to bother to learn FF's mechanism. So make
	  that possible.
	<LI>
	  Dave C wants to be able to use Cntl-Tab to switch tabs in the charview.
	<LI>
	  If freetype gets a single point open contour in postscript mode, it simply
	  skips the contour (does not call FT_MoveTo on it). This screwed up my attempt
	  to match the results of freetype with the actual splines and caused a crash.
	<LI>
	  Glyphs with no contours didn't set widthset when read from ufo and so were
	  viewed as empty.
	<LI>
	  FF was expecting descent to be a postive value in a ufo (it is in
	  ArialBlack.ufo), but it seems to be negative in most UFOs.
	<LI>
	  Erik wants the creation order of contours preserved when reading a glif file.
	<LI>
	  Oops. glyph/glyphPen types got the wrong names in the fontforge python module.
	  (interchanged)
	<LI>
	  remove the Elide command. (There's no reason to use it, Merge is always better,
	  it just confused people.
	<LI>
	  Refrain from simplifying an order2 point where the second derivative changes
	  sign.
	<LI>
	  If a font has no "fullname" field (and fonts aren't required to have one)
	  ff would crash when generating the font.
	<LI>
	  Ability to Import/Export Raph Levien's plate file format.
	<LI>
	  If I moved a corner point adjacent to a tangent, the slope on the other side
	  of the tangent did not change.
	<LI>
	  Exporting a glyph to BMP or PNG was broken, probably since the addition of
	  python import export filters.
	<LI>
	  Add a Strftime scripting command to the legacy language.
	<LI>
	  Werner points out that I misspelled "persistent" as "persistant" in many
	  places, including python member names. Correct that. (but leave the old,
	  misspelled membernames around but undocumented in case anyone has been mislead
	  by my previous documentation.
	<LI>
	  Add new python stuff to provide access to spiros.<BR>
	  The fontforge module has a new method -- hasSpiro() which returns whether
	  we've got access to libspiro or not.<BR>
	  The module also has a bunch of numeric constants defined spiroG4, spiroG2,
	  etc. for use in the<BR>
	  The Contour type has a new member -- spiros which is a tuple of spiro control
	  points (which are themselves tuples: x,y,type,flags, where type is one of
	  the numeric constants above.
	<LI>
	  People would complain that the python interface would give them "Invalid
	  second order spline" but no one bothered to give me a test case. I hope I've
	  tracked it down now.
	<LI>
	  Add a "problem" to check for glyphs whose bounding boxes are: too tall, too
	  short, too wide, too much to the left.
	<LI>
	  Used to be I had many problems checked by default. Best to turn them all
	  off.
	<LI>
	  Oops. FF was using Py_BuildValue("s") on something that was already a python
	  string.
	<LI>
	  Adam Twardoch suggests that codepoints in the PUA have their script determined
	  by their name (rather than just returning DFLT). Since Adobe used to put
	  things like "a.sc" in this area, that seems a good idea.
	<LI>
	  FF marked almost all fonts with the Oblique bit in the OS/2 table.
	<LI>
	  - Patch from Alexej for his diagonal hinting routines, fixes an ugly problem
	  reported by Max Rabin.
	<LI>
	  Various fixes in stem detection. In particular added a concept of "base start"
	  and "base end" for curved segments of stem edges, allowing to determine more
	  precisely if an active zone (which merges left and right segments together)
	  should actually be considered "curved" at its
	<LI>
	  Make implied points to be ignored when determining a diagonal stem validity.
	<LI>
	  Swith the timestamps to GMT. Prior to this all timestamps have been PS/DT,
	  but now that other people are making source changes GMT seems more sensible.
	<LI>
	  Max Rabkin supplies a patch to let python import plate files.
	<LI>
	  A couple of new name table string ids: WWS Family &amp; WWS Subfamily.<BR>
	  Provide reasonable defaults for the wws* ttf names.
	<LI>
	  Correct the list of dutch font styles.
	<LI>
	  Most of the items in the popup menu of the lookup pane didn't work.
	<LI>
	  FF wasn't loading python init files from ~/.FontForge/python
	<LI>
	  When I fixed mark to ligature positioning I broke the other three types of
	  anchor positioning (to base, to mark &amp; cursive).
	<LI>
	  If you pressed the [*] Default check box in the Font
	  Info-&gt;OS/2-&gt;Panose area, the values didn't go back to the defaults.
	<LI>
	  When copying glyphs from one font to another ff would sometimes use a temporary
	  value of -2 for the orig_pos. This meant that reference fixups didn't work
	  when looking at those glyphs.
	<LI>
	  Drat. Typo when copying a contextual lookup from one font to another caused
	  a crash.
	<LI>
	  Add a new point tool which creates curved points which are always either
	  horizontally or vertically oriented. (I call 'em hvcurves)
	<LI>
	  Use ~/.FontForge instead of ~/.PfaEdit
	<LI>
	  I'm told there was a typo in my Bulgarian text for the Print/Display dlg,
	  and that this should fix it.
	<LI>
	  Get some proper Belorussian text.
	<LI>
	  Several bugs in my mark attachment routines. There was an assumption that
	  only one mark could be attached to a base glyph per sub-table. This is wrong
	  for mark to base, in that there can be several anchor classes per subtable.
	  It is even worse for mark to ligature where there can be many marks per anchor
	  class (one per ligature position).
	<LI>
	  Having done this make sure we don't use the same anchor point more than once.
	<LI>
	  What glyph class should be used by default if a glyph is both a ligature
	  and a mark? Probably mark. There are greek accent ligatures, and its probably
	  more important to treat them as marks than as ligatures (I don't know any
	  fonts which actually "skip ligatures" but there are lots which "skip marks").
	<LI>
	  Select-&gt;Next/Prev Point always selected the first point. Select First
	  point did the wrong thing.
	<LI>
	  Pressing the [Refresh] button could crash ff if a "FontData" depended on
	  another (same font).
	<LI>
	  Someone (John ?Morrison?) requested a way to access fonts by numeric index
	  rather than font name when opening font collections like ttc files or dfonts.
	<LI>
	  * I no longer have separate l/lpotential and r/rpotential pairs &Acirc;&nbsp;
	  of point data objects. Instead I use just 'l' and 'r' accompanied by
	  &Acirc;&nbsp; boolean flags indicating their state as "potential". This greatly
	  &Acirc;&nbsp; simplifies some tests and makes the code more readable. * When
	  I am adding a chunk based on a single point to an existing stem, &Acirc;&nbsp;
	  I always mark the second point as "potential". Later this state can
	  &Acirc;&nbsp; be changed if check based on the second point produces the
	  same chunk, &Acirc;&nbsp; or at least doesn't produce another (conflicting)
	  stem. Again, this &Acirc;&nbsp; simplifies some tests which accompany adding
	  new chunks and makes the &Acirc;&nbsp; result of the stem detection less
	  dependent from the order in which &Acirc;&nbsp; the points are processed.
	  * I allow assigning a point to a stem even when its distance from the
	  &Acirc;&nbsp; stem edge is larger than standard dist_error_hv or dist_error_diag,
	  &Acirc;&nbsp; if only the difference between maximum possible deviations
	  to the &Acirc;&nbsp; both sides of the edge doesn't exceed the double
	  dist_error_* value. &Acirc;&nbsp; This prevents us from adding several
	  almost-coincident hints, actually &Acirc;&nbsp; controlling the same stem.
	  * I have added a function which performs some stem normalization, &Acirc;&nbsp;
	  sorting chunks by point coordinates. For HV stems it also can &Acirc;&nbsp;
	  slightly modify the positioning of the stem edges preferring the &Acirc;&nbsp;
	  coordinate which is closer to most points assigned to each edge. * There
	  is now a special function used to compare conflicting stems &Acirc;&nbsp;
	  and decide if one of these two should be preferred, or they both are
	  &Acirc;&nbsp; worth to be output. * The detection of serifs and similar elements,
	  which, not being &Acirc;&nbsp; exactly horizontal/vertical, still have to
	  be marked with a HV &Acirc;&nbsp; stem, has been improved (two points, forming
	  a serif termination, &Acirc;&nbsp; now should not necessarily follow each
	  other).
	<LI>
	  Drat. If we had libjpeg and not libpng we'd get a complaint about an undefined
	  symbol.
	<LI>
	  Add "Mismatch Unicode &amp; Name" to the Find Problems dlg.
	<LI>
	  There are ttf files in existance where glyph names do not match unicode code
	  points. Tons of fonts use ".notdef" for glyphs other than "GID=0". Other
	  fonts use ASCII glyph names (space, exclam, numbersign,...) for glyphs in
	  other scripts (Kedage-n.ttf does this).
	<LI>
	  In the past, ff has felt that the presence of a zero-width ".null" and
	  "nonmarkingreturn" glyph meant that a font was not mono-space. In the future
	  ignore these glyphs when determining whether a font has fixed width.
	<LI>
	  in some rare cases we got an uninitialized value in spline-&gt;line display
	  conversion.
	<LI>
	  Up the size of the File-&gt;Recent menu to 10, and include non-sfd files
	  in the list.
	<LI>
	  The routine to create an apple state machine from a set of OpenType
	  ('init','medi','fina','isol') forms would often crash.
	<LI>
	  When scaling BlueValues, or other arrays, a trailing space after the last
	  number and before the ']' was considered an error. If found then ff would
	  not scale that entry.
      </UL>
      <P>
      <A HREF="oldchangelog.html">Earlier Changes </A><BR>
      <A HREF="pfaeditchangelog.html">Changes to PfaEdit (predecessor to
      FontForge)</A><BR>
      <A HREF="sfdchangelog.html">Changes to the sfd format.</A>
  </UL>
</DIV>
</BODY></HTML>
