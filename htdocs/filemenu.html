<HTML>
<HEAD>
  <!-- Created with AOLpress/2.0 -->
  <!-- AP: Created on: 10-Dec-2000 -->
  <!-- AP: Last modified: 5-Feb-2002 -->
  <TITLE>The File Menu</TITLE>
</HEAD>
<BODY>
<H1 ALIGN=Center>
  The File Menu
</H1>
<UL>
  <LI>
    <A HREF="#New">New</A>
  <LI>
    <A HREF="#Open">Open</A>
  <LI>
    <A HREF="#Recent">Recent</A>
  <LI>
    <A HREF="#Close">Close</A>
  <LI>
    <A HREF="#Outline">Open Outline</A>
  <LI>
    <A HREF="#Bitmap">Open Bitmap</A>
  <LI>
    <A HREF="#Metrics">Open Metrics</A>
  <LI>
    <A HREF="#Save">Save</A>
  <LI>
    <A HREF="#SaveAs">Save As...</A>
  <LI>
    <A HREF="#Generate">Generate Fonts...</A>
  <LI>
    <A HREF="#Revert">Revert</A>
  <LI>
    <A HREF="#Export">Export...</A>
  <LI>
    <A HREF="#Import">Import...</A>
  <LI>
    <A HREF="#Merge-kern">Merge Kern Info...</A>
  <LI>
    <A HREF="#Print">Print...</A>
  <LI>
    <A HREF="#Execute">Execute Script...</A>
  <LI>
    <A HREF="#ScriptMenu">Script Menu</A>
  <LI>
    <A HREF="#prefs">Preferences...</A>
  <LI>
    <A HREF="#Quit">Quit</A>
</UL>
<P>
<DL>
  <DT>
    <A NAME="New">New</A>
  <DD>
    Creates a new font with (by default) ISO 8859-1 (Latin1) encoding. The default
    encoding may be changed in the preference dlg.
  <DT>
    <A NAME="Open">Open</A>
  <DD>
    Brings up a file chooser and allows you to open a font in any of the formats
    PfaEdit understands.
    <P>
    If you open a truetype font all character hinting (instructions) will be
    lost. If the truetype font contains bitmaps then you will be asked if you
    want to load some of the bitmaps as well as the outlines.
    <P>
    By default this dialog will display all files with extensions of pfa, pfb,
    sfd, ttf, otf, gsf, ttc and bdf (possibly others as PfaEdit comes to support
    more formats). If you would also like it to display .ps files then enter
    *.{pfa,pfb,ttf,otf,bdf,sfd,ps} and press the Filter button. If you only want
    it to display sfd files enter *.sfd and press Filter.<BR>
    You may select multiple files (by holding down the shift or control keys
    when clicking on them), and all selected files will be opened.<BR>
    PfaEdit can open macbinary resource files containing postscript and truetype
    fonts (it does not open bitmap fonts currently)
  <DT>
    <A NAME="Recent">Recent</A>
  <DD>
    A submenu showing recently used sfd files.
  <DT>
    <A NAME="Close">Close</A>
  <DD>
    Closes the current window.
    <P>
    If this is a font view and the font has been changed, then it will ask whether
    you want to save the font. It will also close any outline character, bitmap
    character or metrics views associated with the font.
  <DT>
    Open <A NAME="Outline">Outline</A>
  <DD>
    In the font view this will open outline views on all selected characters
    (if there are more than 15 or so it will ask whether you really meant to
    do that).
    <P>
    In the bitmap view it will open an outline view on the current character.
    <P>
    In the metrics view it will open an outline view on whatever character is
    active.
    <P>
    This menu item is always grey in an outline view.
    <P>
    Note: It is possible to have more than one window displaying the same character.
    Any editing that occurs in one should be reflected in all.
  <DT>
    Open <A NAME="Bitmap">Bitmap</A>
  <DD>
    In the font view this will open bitmap views on all selected characters (if
    there are more than 15 or so it will ask whether you really meant to do that).
    If the font view is displaying a bitmap then it will open a bitmap view showing
    that pixelsize, otherwise it will pick a pixelsize.
    <P>
    In the outline view it will open a bitmap view on the current character.
    It will pick a pointsize.
    <P>
    In the metrics view it will open an outline view on whatever character is
    active, as with the font view, if it is displaying a bitmap it will use its
    pixelsize, otherwise it will pick a pixelsize.
    <P>
    This menu item is always grey in an bitmap view.
    <P>
    Note: It is possible to have more than one window displaying the same character.
    Any editing that occurs in one should be reflected in all.
  <DT>
    Open <A NAME="Metrics">Metrics</A>
  <DD>
    In the font view it will open a metrics view displaying all selected characters.
    The new metrics view will display whatever the font view displays (outline
    or bitmap).
    <P>
    In the outline view it will open a metrics view displaying the current character.
    The display will be an outline.
    <P>
    In the bitmap view it will open a metrics view displaying the current character.
    The display will be a bitmap in the current size.
    <P>
    This menu item is always grey in the metrics view.
    <P>
    It is possible to have more than one metrics view open at a time.
  <DT>
    <A NAME="Save">Save</A>
  <DD>
    Saves the current file. If it is associated with a spline font database it
    will be saved there and a backup file will be created. If it is a new font,
    or if the font has been read from a postscript font file, then a Save As
    dialog will pop up.
    <P>
    If you are editing a font "Ambrosia.sfd" then the backup file will be called
    "Ambrosia~.sfd".
  <DT>
    <A NAME="SaveAs">Save</A> As...
  <DD>
    Allows you to give a new name to the current spline font database. Pops up
    a file picker.
  <DT>
    <A NAME="Generate">Generate</A> Fonts...
  <DD>
    This generates font files, both outline and bitmap. You may choose not to
    generate either, you may generate an afm file or a pfm file, you may select
    the type of postscript output, you may select which pixelsizes of bitmap
    to generate.
    <P>
    The outline types are:
    <UL>
      <LI>
	PostScript Type1 font, binary format (a .pfb file, this may be used by adobe
	type manager or by the new x font server)
      <LI>
	PostScript Type1 font, ascii format (a .pfa file, this is used by printers)
      <LI>
	PostScript Type1 font, macbinary format (a postscript font wrapped up in
	a set of mac resources wrapped up in a macbinary file, to be copied to a
	mac, unmacbinaried, and installed there)
      <LI>
	PostScript Type3 font (a .ps font, this is also used by printers and is not
	encrypted)
      <LI>
	PostScript Type0 font, this is only available if you have a font encoded
	with Unicode or one of the CJK encodings. Type0 fonts can have up to 65536
	characters in them (as opposed to 256 for Type1s and Type3s).
      <LI>
	PostScript CID font, this is only available if your font is a
	<A HREF="cidmenu.html">CID font</A>. This produces a font in the old Type1
	CID format. You probably want to use the OpenType CID format...
      <LI>
	True Type. The instructions (hinting) are probably not very good. No diagonal
	stems are hinted. Instructing is based on the hints used for postscript,
	with some additional work done for serifs, and some recognition that all
	characters of approximately the same height should have the same height at
	small pointsizes (equivalent to PostScript's BlueValues).
      <LI>
	True Type Symbol. Same as True Type, except it uses a symbol encoding scheme.
	This is important on windows as symbol and dingbat encodings often include
	characters (in the range 0x80-0x9f) which aren't mapped in normal encodings.
      <LI>
	True Type macbinary format, a truetype font wrapped up in a mac resource,
	wrapped up in a macbinary file. Designed to be used for a mac.
      <LI>
	True Type dfont format, a truetype font wrapped up in a mac dfont (data fork
	resource file). Mac OS/X font.
      <LI>
	Open Type. Officially Open Type includes True Type, but Open Type True Type
	fonts are no different from plain True Type fonts, so they might as well
	just be called True Type. So by Open Type I mean Open Type with a CFF Postscript
	Type 2 font inside it.
      <LI>
	Open Type dfont format, an open type font wrapped up in a mac dfont (data
	fork resource file). Mac OS/X font.
      <LI>
	Open Type CID, This is only available if your font is a
	<A HREF="cidmenu.html">CID font</A>. It procudes an OpenType CID-keyed font.
      <LI>
	None
    </UL>
    <P>
    The bitmap types are:
    <UL>
      <LI>
	BDF -- The internal bitmap fonts will be saved in bdf format. You may only
	select sizes for which you have already generated fonts
      <LI>
	GDF -- Greymap Distribution Format, used for saving anti-aliased fonts. The
	format is exactly the same as BDF except for one extra header "BITSPERPIXEL"
	which may have a value of 2, 4 or 8. You may pick any size you like (within
	reason), and an anti-aliased font will be generated for that size. As far
	as I know this is a totally useless format since I just created it, but I
	thought it a kind of neat idea.
      <LI>
	In TTF (MS) -- Store the bitmap fonts inside the ttf file using the microsoft
	tables.
      <LI>
	In TTF (Apple) -- Store the bitmap fonts inside the ttf file using the apple
	tables (I wish they were consistent!)
      <LI>
	NFNT (MacBin) -- Converts the bitmap fonts into Macintosh NFNT resources
	and wraps them up in a mac binary file.
      <LI>
	NFNT (dfont) -- Converts the bitmap fonts into Macintosh NFNT resources and
	stores them in a mac (OS/X) dfont file.
      <LI>
	None
    </UL>
    <P>
    TTF (and Open Type) fonts are usually generated in MicroSoft's Unicode encoding,
    there will also be a tiny macintosh encoding for the first 256 positions
    (and a macintosh copy of the unicode encoding) -- the exceptions are: symbol
    fonts will use the symbol encoding, KSC5601 fonts will use Wansung, and JIS208
    will use SJIS, Big5 will use big5 encoding. OpenType CID keyed fonts will
    be saved with Unicode encoding.<BR>
    Postscript fonts are generated in whatever encoding the font is using (except
    if you take a two byte encoding and generate a Type1 font (rather than a
    Type0) then only the first few characters will be encoded).<BR>
    PS CID (and OpenType CID in the CFF) are saved with no encoding. The encodings
    live in seperate cmap files which are available from
    <A HREF="http://www.adobe.com/products/acrobat/acrrasianfontpack.html">adobe</A>
    (and perhaps other font vendors).<BR>
    If you save a CID font with a format other than PS CID or OpenType CID, then
    only the currenly displayed subfont will be saved, with the current meaningless
    character ordering (I suppose this is useful if you wish to extract a sub-font
    from a CID font).<BR>
    TTF (and OpenType) fonts will produce vertical metrics tables if the font
    has vertical metrics enabled. Postscript encodings will not produce Metrics2
    dictionaries (If someone actually wants this let me know, it can be done,
    but I get the impression that nobody uses this any more).
  <DT>
    <A NAME="Revert">Revert</A>
  <DD>
    Rereads the font from the file on the disk. All changes are lost.
  <DT>
    <A NAME="Export">Export</A>...
  <DD>
    In the Outline view this allows you to export the splines that make up the
    character into an encapsulated postscript (.eps) file or a file in xfig format
    (.fig -- the conversion to fig format is not the best). You may also have
    the character rasterized and output in either .xbm or .bmp formats (PfaEdit
    will prompt you for a pixelsize. bmp also allows you to generate an anti-aliased
    image, and you will be prompted for bits per pixel. 1 bit per pixel is a
    bitmap).
    <P>
    In the Bitmap view this allows you to export the current character as either
    a .xbm or a .bmp (always as a bitmap) file.
    <P>
    This menu item is not available in the Font or Metrics Views.
  <DT>
    <A NAME="Import">Import</A>...
  <DD>
    In the Font View this allows you to import one or several bitmap fonts (from
    a .bdf file or a ttf/otf/ttc file, TeX pk file, or an X11 .pcf file) and
    merge it into the list of bitmap sizes stored in the database. You may also
    load one bitmap font into the backgrounds of the outline characters (So "A"
    from the bitmap font goes into the background of the "A" outline character),
    this is to make tracing characters easier. Be careful, you need to load a
    big bitmap for autotrace to be useful.
    <FONT COLOR="Red"><SMALL><STRONG>NOTE: </STRONG></SMALL></FONT>PfaEdit is
    unable to read an encoding from pk files, you will may need to set it with
    "Force Encoding" after you've loaded the pk file.<BR>
    You may also load images into the character backgrounds. There are two ways
    to do this, you may either select several image files and they will be loaded
    consecutively into selected characters, or you may select an image template
    and all images whose filename match that template will be loaded into the
    backgrounds of the appropriate characters. Image templates look like "uni*.png"
    or "enc*.gif" or "cid*.tiff". You select the template by selecting a filename
    which matches that template-- So if you select "uni1100.gif" then all image
    files which start with "uni" and end with ".gif" and contain a valid unicode
    number will be loaded and placed in the appropriate place. Files named "enc*"
    or "cid*" are handled similarly except that they specify the current encoding
    (and the number must be in decimal rather than hex).
    <P>
    In the Outline View this allows you to import an image into the background,
    or import encapsulated postscript or fig files into the foreground (the xfig
    conversion is really bad).
    <P>
    In the Bitmap View this allows you to import a bitmap image into the character.
    <P>
    This menu item is not available in the Metrics View<BR>
    &nbsp; <BR>
    In the font view you may select multiple files (by holding down the shift
    or control keys when clicking on them), and all selected bitmap fonts will
    be imported into the sfd.
  <DT>
    <A NAME="Merge-kern">Merge Kern Info...</A>
  <DD>
    Only available in the font view window. This command will allow you to search
    for an afm (or tfm) file containing kerning pairs for the specified font.
    In many cases it will not be needed because when PfaEdit opens a .pfa or
    .pfb font it will automagically search for an appropriate .afm file in the
    same place. But sometimes afm files are stored in other directories. And
    sometimes you want to import information from TeX.<BR>
    <FONT COLOR="Red"><SMALL><STRONG>NOTE: </STRONG></SMALL></FONT>PfaEdit is
    unable to read an encoding from tfm files, it is your responsibility to ensure
    that the encoding of your font matches that of the tfm file <EM>BEFORE</EM>
    merging kerning information. This is unfortunate, sorry.
  <DT>
    <A NAME="Print">Print</A>...
  <DD>
    Not available in the bitmap view. Allows you to print out all the characters
    in the font, a text sample of the font, or specific characters at a very
    large scale.<BR>
    See the section on <A HREF="print.html">printing</A> for more information.
  <DT>
    <A NAME="Execute">Execute</A> Script...
  <DD>
    Only in the font view. Brings up a dlg and allows you to enter a
    <A HREF="scripting.html">script</A> (which could be just calling a prewritten
    script file).
  <DT>
    <A NAME="ScriptMenu">Script Menu</A>
  <DD>
    Only in the font view. You may define up to 10 scripts that you want to execute
    frequently and place them in this menu. The scripts may also be invoked by
    short cut with the first one being invoked by Control-Meta(Alt)-1, the second
    Control-Meta-2, and the tenth by Control-Meta-0.
  <DT>
    <A NAME="prefs">Preferences...</A>
  <DD>
    This pops up a dialog which allows you to specify
    <UL>
      <LI>
	Whether you want the widths of accented characters to track the width of
	the base character (so if you modify the width of A then the width of &Agrave;
	will automagically change, if &Agrave; is built as a reference to A and a
	reference to grave)
      <LI>
	Whether you want left side bearings of accented characters to track the left
	side bearing of base characters (so if you shift A left, then the accent
	in &Agrave; will also be shifted left)
      <LI>
	Whether characters should be automagically hinted before a bitmap character
	is generated (improves the quality of the bitmap)
      <LI>
	The default encoding used to create new fonts. Normally this is ISO 8859-1.
      <LI>
	The default encoding used by the operating system (ie. text that is pasted
	into pfaedit will be assumed to be in this encoding).
      <LI>
	The "Foundry Name". Used in generating bdf files (part of the X Windows font
	naming convention).
      <LI>
	The base
	"<A HREF="http://partners.adobe.com/asn/developer/type/uniqueid.html">XUID</A>".
	Should uniquely identify the user's organization. If present then every new
	font will be given an XUID generated by appending a random number to the
	end of this string (which should consist of a set of numbers separated by
	spaces). Whenever a postscript font is generated then this last number will
	be incremented by 1.
      <LI>
	Whether constrained motion in the character view should allow motion parallel
	to the italic angle as well as horizontal and vertical.
      <LI>
	The amount of space (as a percentage of the em-square) that should be placed
	between an accent and the character below it by the Build Accented Character
	command.
      <LI>
	Whether to accept Adobe's naming conventions for greek letters, or to make
	them a bit more expected.
      <LI>
	The number of em-units an arrow key will move a selected point in the character
	view.
      <LI>
	The maximum distance at which pointer motion in the character view will be
	snapped to an interesting object (ie. a point, baseline, width line, etc.)
      <LI>
	The menu names and associated script filenames used to build up the Script
	Menu in the font view.
    </UL>
    <P>
    A number of things that might be controlled from a preference window are
    controlled by <A HREF="xres.html">X Resources</A>.
  <DT>
    <A NAME="Quit">Quit</A>
  <DD>
    Exits the program, prompting you whether to save any changed fonts.
</DL>
<P>
<H2>
  Other menus
</H2>
<UL>
  <LI>
    <A HREF="filemenu.html">File</A>
  <LI>
    <A HREF="editmenu.html">Edit</A>
  <LI>
    <A HREF="pointmenu.html">Point</A>
  <LI>
    <A HREF="elementmenu.html">Element</A>
  <LI>
    <A HREF="hintsmenu.html">Hints</A>
  <LI>
    <A HREF="viewmenu.html">View</A>
  <LI>
    <A HREF="metricsmenu.html">Metrics</A>
  <LI>
    <A HREF="cidmenu.html">CID</A>
  <LI>
    <A HREF="windowmenu.html">Window</A>
  <LI>
    <A HREF="helpmenu.html">Help</A>
  <LI>
    <A HREF="HotKeys.html">Hot Keys</A>
</UL>
<P ALIGN=Center>
-- <A HREF="metricsview.html">Prev</A> -- <A HREF="overview.html">TOC</A>
-- <A HREF="editmenu.html">Next</A> --
<P>
</BODY></HTML>
