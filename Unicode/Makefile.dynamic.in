top_srcdir = @top_srcdir@
top_builddir = ..
libdir = @libdir@
VPATH = @srcdir@
prefix = @prefix@
bindir = @bindir@

GU_VERSION=1
GU_REVISION=0
GU_AGE=0

LIBTOOL = @LIBTOOL@
CC = @CC@

libgunicode_OBJECTS =  ArabicForms.lo alphabet.lo backtrns.lo char.lo \
 cjk.lo memory.lo ucharmap.lo unialt.lo uninames.lo ustring.lo utype.lo \
 usprintf.lo

Incs = -I$(top_srcdir)/inc -I/usr/pkg/include -I/usr/pkg/include/giflib
WFLAGS = -Wmissing-prototypes -Wunused -Wimplicit -Wreturn-type -Wparentheses
CFLAGS = @CFLAGS@ $(Incs) $(WFLAGS) $(X_CFLAGS)

../libgunicode.la: $(libgunicode_OBJECTS)
	$(LIBTOOL) $(CC) $(CFLAGS) -o ../libgunicode.la $(libgunicode_OBJECTS) \
	    -rpath $(libdir) -version-info $(GU_VERSION):$(GU_REVISION):$(GU_AGE)

%.lo: %.c
	$(LIBTOOL) $(CC) $(CFLAGS) -c $<

clean:
	-rm -f *.o *.lo ../libgunicode.la

distclean cleaner:
	-rm -f *.o *.lo ../libgunicode.la Makefile
